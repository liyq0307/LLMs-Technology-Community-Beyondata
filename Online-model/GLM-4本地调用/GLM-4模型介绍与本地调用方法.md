***

* GLM-4æ¨¡å‹ç®€ä»‹

â€ƒâ€ƒåŒ—äº¬æ—¶é—´2024å¹´1æœˆ16æ—¥ï¼Œæ™ºè°±AIæ­£å¼æ¨å‡ºGLM-4æ–°ä¸€ä»£åŸºåº§å¤§æ¨¡å‹ï¼Œæ•´ä½“æ€§èƒ½ç›¸æ¯”GLM3å…¨é¢æå‡60%ï¼Œæ ¹æ®å®é™…æµ‹è¯•ï¼ŒGLM-4åœ¨ä»¥ä¸­æ–‡ä¸ºä¸»çš„åº”ç”¨åœºæ™¯ä¸­å®é™…æ€§èƒ½é€¼è¿‘GPT-4çš„95%ï¼Œåœ¨ä¸€äº›ä¸­æ–‡å¯¹é½çš„æµ‹è¯•ä¸­ï¼Œç”šè‡³è¶…è¿‡GPT-4è¡¨ç°ï¼Œæ¯•ç«ŸGPT-4-turboæ¨¡å‹ã€‚æ­¤å¤–ï¼ŒGLM-4æ”¯æŒ128Kå¯¹è¯ä¸Šä¸‹æ–‡ï¼Œå¹¶ä¸”æ”¯æŒæ›´å¼ºçš„å¤šæ¨¡æ€åŠŸèƒ½ã€æ”¯æŒæ›´å¿«æ¨ç†é€Ÿåº¦ï¼Œæ›´å¤šå¹¶å‘ï¼Œå¤§å¤§é™ä½æ¨ç†æˆæœ¬ï¼›åŒæ—¶GLM-4å¢å¼ºäº†æ™ºèƒ½ä½“ï¼ˆAgentï¼‰èƒ½åŠ›ã€‚å¹¶ä¸”ï¼Œç»è¿‡ä¸€æ®µæ—¶é—´çš„å®é™…ä½¿ç”¨å‘ç°ï¼ŒGLM-4ç›¸æ¯”ChatGLM3æœ‰æ˜æ˜¾è¿›æ­¥ï¼Œè¿™ä¹Ÿè¿›ä¸€æ­¥å¢åŠ äº†æˆ‘ä»¬å¯¹å›½äº§å¤§æ¨¡å‹æœªæ¥å‘å±•çš„æœŸå¾…ã€‚

![](images/a7bd1e47-3fc8-44e4-9422-efe4287193e9.png)

â€ƒâ€ƒè€Œå’Œæ­¤å‰ChatGLM3æ¨¡å‹æ‰€ä¸åŒçš„æ˜¯ï¼ŒGLM-4ä¸å†é‡‡ç”¨å¼€æºæ¨¡å¼ï¼Œè€Œæ˜¯é‡‡ç”¨äº†OpenAIå’ŒGoogleå¤§æ¨¡å‹çš„åœ¨çº¿å¤§æ¨¡å‹æ¨¡å¼ï¼Œå³æ¨¡å‹æ— éœ€æœ¬åœ°éƒ¨ç½²ï¼Œè€Œæ˜¯é€šè¿‡è”ç½‘çš„æ–¹å¼è°ƒç”¨æ™ºè°±ç®—åŠ›ä¸­å¿ƒçš„æ¨¡å‹è¿›è¡Œæ¨ç†æˆ–å¾®è°ƒï¼Œç”¨æˆ·é€šè¿‡API-KEYè¿›è¡Œèº«ä»½éªŒè¯ï¼ŒåŒæ—¶æ ¹æ®å®é™…ä½¿ç”¨æ¨¡å‹ä¸åŒã€ä»¥åŠä¸åŒçš„Tokenæ•°é‡è¿›è¡Œè®¡è´¹ã€‚

è€Œåœ¨å®é™…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬ä¸éš¾å‘ç°ï¼ŒGLM-4å’ŒGPT-4çš„è°ƒç”¨è¿‡ç¨‹ä¹Ÿå‡ ä¹ä¸€æ‘¸ä¸€æ ·ï¼šï¼ˆä»¥ä¸‹ä»£ç æ— éœ€è¿è¡Œï¼Œè¿è¡Œæ–¹æ³•ç¨åä»‹ç»ï¼‰

```python
import os
api_key = os.getenv("ZHIPU_API_KEY")
```

```python
from zhipuai import ZhipuAI
client = ZhipuAI(api_key=api_key) 
response = client.chat.completions.create(
    model="glm-4",  # å¡«å†™éœ€è¦è°ƒç”¨çš„æ¨¡å‹åç§°
    messages=[
        {"role": "user", "content": "ä½ å¥½"}
    ],
)
print(response.choices[0].message)
```

```plaintext
content='ä½ å¥½ğŸ‘‹ï¼æˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹æ™ºè°±æ¸…è¨€ï¼Œå¯ä»¥å«æˆ‘å°æ™ºğŸ¤–ï¼Œå¾ˆé«˜å…´è§åˆ°ä½ ï¼Œæ¬¢è¿é—®æˆ‘ä»»ä½•é—®é¢˜ã€‚' role='assistant' tool_calls=None
```

è€Œä»¥ä¸‹åˆ™æ˜¯GPTç³»åˆ—æ¨¡å‹çš„è¿è¡Œæ–¹æ³•ï¼š

```python
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
# å°è¯•è°ƒç”¨GPTæ¨¡å‹
response = openai.ChatCompletion.create(
  model="gpt-4-0613",
  messages=[
    {"role": "user", "content": "ä½ å¥½ï¼"}
  ]
)
response.choices[0].message['content']
```

```plaintext
'ä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ'
```

### ä¸€ã€GLM-4è´¦æˆ·æ³¨å†Œä¸API-KEYè·å–

â€ƒâ€ƒGLM-4çš„å…¬å¸ƒä¸ä»…ä»£è¡¨ç€æ™ºè°±AIæ•´ä½“æœå‘åœ¨çº¿å¤§æ¨¡å‹æŠ€æœ¯è·¯çº¿è½¬å‹ï¼Œè€Œä¸”è¿˜ä»£è¡¨ç€æ™ºè°±AIå°†åŠ›æ±‚æ‰“é€ ä¸€æ•´å¥—åœ¨çº¿å¤§æ¨¡å‹æŠ€æœ¯è§£å†³æ–¹æ¡ˆï¼Œåœ¨è¿™å…¶ä¸­GLM-4æ¨¡å‹åªæ˜¯å…¶ä¸­ä¸€ä¸ªæ¨¡å‹ã€‚

â€ƒâ€ƒè€Œå®é™…ä¸Šï¼Œæ™ºè°±AIçš„é€Ÿåº¦æ¯”é¢„è®¡çš„æ›´åŠ è¿…é€Ÿã€‚åœ¨GLM-4å‘å¸ƒçš„åŒæ—¶ï¼Œ[æ™ºè°±AIå¤§æ¨¡å‹MaaSå¼€æ”¾å¹³å°](https://open.bigmodel.cn/)ä¹ŸåŒæ­¥ä¸Šçº¿ï¼Œå…¶å®Œæˆåº¦ä¹‹é«˜å‡ ä¹å¯ä»¥å’ŒOpenAI Platformä¸€æ•™é«˜ä¸‹ã€‚

![](images/c3bd6843-12a6-4f49-b8d6-7795ef32c311.png)

è¿™ä¹Ÿå°±æ˜¯æ‰€è°“çš„GLM-4å®˜ç½‘ï¼Œå…¶ä¸­åŒ…å«äº†å®Œæ•´è¯¦ç»†çš„GLMåœ¨çº¿ç³»åˆ—æ¨¡å‹è°ƒç”¨æ–¹æ³•ã€APIæ‰‹å†Œã€è¯´æ˜æ–‡æ¡£ã€ä»¥åŠå¯¹æ ‡OpenAI Playgroundçš„åœ¨çº¿è°ƒç”¨æ¨¡å‹å®éªŒç¯å¢ƒã€‚è¿™é‡Œæˆ‘ä»¬é¦–å…ˆä»‹ç»GLMç›®å‰åœ¨çº¿æ¨¡å‹æŠ€æœ¯ç”Ÿæ€ï¼Œç„¶åå†è¯¦ç»†ä»‹ç»Maaså¼€æ”¾å¹³å°ï¼ˆä»¥ä¸‹ç®€ç§°å®˜ç½‘ï¼‰å…¶ä»–åŠŸèƒ½ã€‚

#### 1.æ™ºè°±AIåœ¨çº¿å¤§æ¨¡å‹æŠ€æœ¯ç”Ÿæ€

* GLMç³»åˆ—åœ¨çº¿æ¨¡å‹

â€ƒâ€ƒè¿™é‡Œæˆ‘ä»¬å¯ä»¥åœ¨å®˜ç½‘[ä½¿ç”¨æŒ‡å—](https://open.bigmodel.cn/dev/howuse/model)éƒ¨åˆ†çœ‹åˆ°ç›®å‰ä¸Šçº¿çš„å¤§æ¨¡å‹ï¼Œæ€»å…±åŒ…æ‹¬æ–‡æœ¬ç”Ÿæˆæ¨¡å‹ï¼ˆGLM-4ã€GLM-3-Turboï¼‰ã€å¼ºåŒ–è§’è‰²æ‰®æ¼”çš„æ–‡æœ¬ç”Ÿæˆæ¨¡å‹ï¼ˆCharGLM-3ï¼‰ã€å¤šæ¨¡æ€å›¾åƒåˆ›å»ºæ¨¡å‹ï¼ˆCogView-3ï¼‰ä»¥åŠEmbedding-2æ¨¡å‹ï¼š

![](images/f5bd1ea9-6a86-4227-be93-9c3e77226f47.png)

åœ¨è¿™äº›æ¨¡å‹ä¸­ï¼ŒGLM-4æ¯«æ— ç–‘é—®æ˜¯å¯¹æ ‡GPT-4çš„æ¨¡å‹ï¼Œæœ€å¤§æ”¯æŒ128Kæœ€å¤§å¯¹è¯ä¸Šä¸‹æ–‡ï¼ŒGLM-3-turboåˆ™æ˜¯å¯¹æ ‡GPT-3.5ï¼ŒåŒæ ·æ”¯æŒ128Kæœ€å¤§å¯¹è¯ä¸Šä¸‹æ–‡ï¼Œè€ŒCogView-3åˆ™å¯¹æ ‡DALLÂ·E-3æ¨¡å‹ï¼ŒEmbedding-2åˆ™å¯¹æ ‡OpenAIçš„text-Embedding-ada-2æ¨¡å‹ã€‚èƒ½å¤Ÿçœ‹å‡ºï¼Œè¿™æ˜¯ä¸€æ•´å¥—åœ¨çº¿æ¨¡å‹ç”Ÿæ€ï¼Œåœ¨è¿™äº›æ¨¡å‹åŠ æŒä¸‹ï¼Œèƒ½å¤Ÿæ”¯æŒç”¨æˆ·å®Œæˆå¤§å¤šæ•°Agentå¼€æ”¾å·¥ä½œã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä»ChatGLM3å¼€å§‹ï¼ŒGLMç³»åˆ—æ¨¡å‹å·²ç»æ”¯æŒFunction callingåŠŸèƒ½ï¼Œè€Œæœ¬æ¬¡å…¬å¸ƒçš„åœ¨çº¿å¤§æ¨¡å‹GLM3ã€GLM4ä¹Ÿéƒ½æ”¯æŒFunction callingã€‚

â€ƒâ€ƒå¹¶ä¸”åœ¨ä¸ä¹…çš„å°†æ¥ï¼Œæ™ºè°±AIè¿˜å°†è¿›ä¸€æ­¥å¼€æ”¾GLM-4vå¤šæ¨¡æ€å¤§æ¨¡å‹ï¼Œç”¨äºè¿›è¡Œå›¾åƒè¯†åˆ«ï¼Œå¯¹æ ‡GPT-4vï¼›ä»¥åŠè®¡åˆ’å°†å‘å¸ƒGLM-4-Assistant APIï¼Œç”¨äºæ›´é«˜æ•ˆç‡è¿›è¡ŒAgentå¼€å‘ï¼Œå¯¹æ ‡OpenAI Assistant APIã€‚

* åœ¨çº¿çŸ¥è¯†åº“ä¸çŸ¥è¯†åº“Retrevial

â€ƒâ€ƒå’ŒOpenAI File systemç±»ä¼¼ï¼Œæ™ºè°±AIä¹Ÿä¸ºå…¶åœ¨çº¿å¤§æ¨¡å‹æŠ€æœ¯ç”Ÿæ€è®¾ç½®äº†åœ¨çº¿çŸ¥è¯†åº“æ­å»ºåŠŸèƒ½ã€‚æ‰€è°“åœ¨çº¿çŸ¥è¯†åº“ï¼ŒæŒ‡çš„æ˜¯ç”¨æˆ·å¯ä»¥å°†ä¸€äº›æœ¬åœ°æ–‡æ¡£å­˜åœ¨æ™ºè°±AIçš„äº‘ç«¯ï¼Œç”¨äºéšæ—¶å°†è¿™äº›çŸ¥è¯†åº“æ–‡æ¡£è¾“å…¥å¤§æ¨¡å‹ï¼Œæˆ–ä½œä¸ºå¾®è°ƒæ•°æ®å¸¦å…¥åœ¨çº¿å¾®è°ƒæµç¨‹ï¼š

![](images/36e13890-ae5d-495b-84ad-090b4c92044b.png)

è€Œåœ¨å®é™…ä½¿ç”¨å¤§æ¨¡å‹æ—¶ï¼Œè‹¥è¦è°ƒç”¨åœ¨çº¿çŸ¥è¯†åº“ä¸­æ–‡æ¡£è¿›è¡Œè¯»å–ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨è°ƒç”¨æ¨¡å‹APIæ—¶è®¾ç½®RetrevialåŠŸèƒ½å³å¯ã€‚æ­¤æ—¶å¤§æ¨¡å‹å³ä¼šæ ¹æ®å¤–éƒ¨æ–‡æ¡£è¿›è¡Œå›ç­”ï¼š

![](images/933b1b57-5d95-4f9f-9b2e-b3e1ae28eb0e.png)

ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨¡å‹å†…éƒ¨å®ç°çš„RetrevialåŠŸèƒ½å¹¶ä¸æ˜¯é•¿æ–‡æœ¬é—®ç­”ï¼Œæ—¢è¾“å…¥çš„å†…å®¹ä¸èƒ½è¶…è¿‡æ¨¡å‹æœ€å¤§ä¸Šä¸‹æ–‡é™åˆ¶ï¼Œå› æ­¤æ¨¡å‹å†…éƒ¨çš„RetrevialåŸºæœ¬å¯ä»¥ç†è§£ä¸ºå°†ä¸€ä¸ªæ–‡æ¡£è¾“å…¥ä¸ºsystem messageï¼Œç„¶åå¼•å¯¼æ¨¡å‹åŸºäºsystem messageè¿›è¡Œå›ç­”ã€‚ä¸è¿‡æ ¹æ®ç›®å‰æ™ºè°±æ•´ä½“æ¨¡å‹ç ”å‘è§„åˆ’ï¼Œæœªæ¥å³å°†ä¸Šçº¿çš„GLM-4 Assistant APIå°†ä¼šå’ŒOpenAI Assistant APIä¸€æ ·ï¼Œæ”¯æŒå¤§èŒƒå›´é•¿æ–‡æ¡£çš„è‡ªåŠ¨æ£€ç´¢å’Œé—®ç­”ã€‚å¯ä»¥è¯´ç›®å‰çŸ¥è¯†åº“ç³»ç»Ÿä¹Ÿæ˜¯ä¸ºæœªæ¥GLM-4 Assistant APIåšå‡†å¤‡ã€‚

* GLMæ¨¡å‹åœ¨çº¿å¾®è°ƒ

â€ƒâ€ƒå’ŒOpenAIåœ¨çº¿å¾®è°ƒåŠŸèƒ½ç±»ä¼¼ï¼Œæ™ºè°±AIæœ¬æ¬¡ä¹Ÿé‡ç£…ä¸Šçº¿äº†åœ¨çº¿æ¨¡å‹çš„åœ¨çº¿å¾®è°ƒåŠŸèƒ½ã€‚æ¯«æ— ç–‘é—®ï¼Œå¦‚æœå¸Œæœ›èƒ½å¤Ÿå®šåˆ¶åŒ–è°ƒæ•´æ¨¡å‹åŠŸèƒ½ï¼Œå¾®è°ƒå¯ä»¥è¯´æ˜¯è‡³å…³é‡è¦çš„æ‰‹æ®µï¼Œå¯¹äºâ€œé—­æºâ€çš„åœ¨çº¿å¤§æ¨¡å‹æ¥è¯´ï¼Œç”±äºå¹¶æœªåœ¨æœ¬åœ°è¿›è¡Œå®‰è£…éƒ¨ç½²ï¼Œæ‰€ä»¥å¾®è°ƒè¿™ä¸€åŠŸèƒ½åªèƒ½åœ¨æ¨¡å‹äº‘ç«¯å®Œæˆã€‚è¿™ä¹Ÿæ˜¯ä¸ºä½•åœ¨çº¿å¤§æ¨¡å‹å‚å•†éƒ½ä¼šæä¾›åœ¨çº¿å¾®è°ƒåŠŸèƒ½çš„åŸå› ã€‚

![](images/b965d5e0-a9c0-431e-a0ad-b4f91bf492e9.png)

â€ƒâ€ƒè€Œåœ¨çº¿å¾®è°ƒå…¶å®æ˜¯ä¸€ä¸ªæŠ€æœ¯é—¨æ§›æé«˜çš„ä»»åŠ¡ï¼Œæˆªè‡³ç›®å‰åªæœ‰OpenAIæä¾›äº†æµç•…ç¨³å®šçš„åœ¨çº¿å¾®è°ƒåŠŸèƒ½ï¼ŒOpenAIåœ¨çº¿å¾®è°ƒåŸºæœ¬æµç¨‹ä¸ºå…ˆåœ¨OpenAI File Systemä¸­ä¸Šä¼ å¾®è°ƒæ•°æ®é›†ï¼Œç„¶åæäº¤å¾®è°ƒä»»åŠ¡ï¼Œå¾®è°ƒç»“æŸåè·å¾—ä¸€ä¸ªä¸“å±çš„å¾®è°ƒæ¨¡å‹åŠç¼–å·ï¼Œä¹‹åå³å¯è°ƒç”¨è¯¥æ¨¡å‹è¿›è¡Œé—®ç­”ã€‚æœ¬æ¬¡æ™ºè°±AIå·²åœ¨å®˜ç½‘ä¸Šçº¿äº†åœ¨çº¿å¾®è°ƒåŠŸèƒ½ï¼Œä¸è¿‡ç›®å‰åªä¸ºè´­ä¹°äº†äº‘ç«¯ç§æœ‰åŒ–çš„ç”¨æˆ·æä¾›å¾®è°ƒæœåŠ¡ï¼Œè€Œæ™®é€šå¼€å‘è€…å¯ä»¥ä½¿ç”¨çš„åœ¨çº¿å¾®è°ƒæœåŠ¡ï¼Œç›®å‰æ­£å¤„äºå†…æµ‹ä¸­ï¼Œå°†è®¡åˆ’åœ¨æœªæ¥ä¸€æ®µæ—¶é—´å†…ä¸Šçº¿ã€‚

![](images/44a9106b-75cf-4f40-996b-c15fc8def386.png)

#### 2.æ™ºè°±AIè´¦æˆ·æ³¨å†Œä¸ç®¡ç†

â€ƒâ€ƒåœ¨äº†è§£äº†GLM-4æ¨¡å‹ç”Ÿæ€ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•è¿›è¡Œæ™ºè°±AIè´¦æˆ·æ³¨å†Œï¼Œå¹¶è·å–GLM-4æ¨¡å‹API-Keyï¼Œç„¶ååœ¨æœ¬åœ°è¿›è¡Œæ¨¡å‹è°ƒç”¨ã€‚å›´ç»•GLM-4çš„è´¦æˆ·æ³¨å†Œå’ŒAPIè·å–æµç¨‹ï¼Œå’ŒOpenAIè´¦æˆ·æ³¨å†Œå’ŒGPTæ¨¡å‹APIè·å–æµç¨‹éå¸¸ç±»ä¼¼ï¼Œåªä¸è¿‡åœ¨æ²¡æœ‰ç½‘ç»œé—¨æ§›é™åˆ¶çš„æƒ…å†µä¸‹ï¼Œè¿™ä¸€æµç¨‹ä¼šéå¸¸ä¾¿æ·ç¨³å®šã€‚

* æ™ºè°±AIè´¦æˆ·æ³¨å†Œæµç¨‹

â€ƒâ€ƒé¦–å…ˆç™»å½•[æ™ºè°±AIå¤§æ¨¡å‹MaaSå¼€æ”¾å¹³å°](https://open.bigmodel.cn/)ï¼Œç‚¹å‡»å·¦ä¸Šæ–¹æ³¨å†ŒæŒ‰é’®ï¼š

![](images/8e7793ed-8bef-431c-8127-0e9ad34b1425.png)

åœ¨æ³¨å†Œé¡µé¢è¾“å…¥æ‰‹æœºå·å¹¶è¿›è¡ŒéªŒè¯ï¼Œå³å¯å®Œæˆæ³¨å†Œï¼š

![](images/9509fb98-77dc-4667-927b-6c05ee6c7123.png)

é¦–æ¬¡æ³¨å†Œç”¨æˆ·ä¼šè·èµ 100ä¸‡tokené¢åº¦ï¼Œå¹¶ä¸”æ³¨å†Œç”¨æˆ·é¦–æ¬¡å®Œæˆå®åè®¤è¯ï¼Œè¿˜ä¼šè¿›ä¸€æ­¥èµ é€200ä¸‡tokené¢åº¦ã€‚æ­£å¦‚æ­¤å‰æ‰€è¯´ï¼Œå®ååˆ¶ä¹Ÿæ˜¯ç¡®ä¿å¤§æ¨¡å‹ä½¿ç”¨å®‰å…¨æ€§çš„é‡è¦ä¸€ç¯ï¼Œä»æ™ºè°±AIç›®å‰çš„æ³¨å†Œæµç¨‹æ¥çœ‹ï¼Œä¹Ÿæ˜¯æ›´åŠ å€¾å‘äºå¼•å¯¼ç”¨æˆ·å®Œæˆå®ååˆ¶æ³¨å†Œï¼š

![](images/25fe9112-5f92-49f6-a16a-4fbb74b0414b.png)

è¿™é‡Œå¯ä»¥ç›´æ¥ç‚¹å‡»ç«‹å³è®¤è¯è¿›è¡Œè®¤è¯ï¼Œæˆ–è€…å…¶ä»–ä»»ä½•æ—¶å€™éƒ½å¯ä»¥åœ¨ä¸ªäººä¸»é¡µè¿›è¡Œè®¤è¯ã€‚è‹¥é”™è¿‡å½“å‰é¡µé¢ï¼Œä¹Ÿå¯ä»¥åœ¨[ä¸ªäººä¸­å¿ƒ](https://open.bigmodel.cn/overview)é‡Œé¢è¿›è¡Œå®åè®¤è¯ï¼š

![](images/279f8b23-cdff-4b55-878f-e7a9e8a5ccc1.png)

ç‚¹å‡»å®åè®¤è¯ï¼Œå¯ä»¥å‘ç°ç›®å‰æœ‰ä¸¤ç§è®¤è¯æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ä¸ªäººè®¤è¯å’Œä¼ä¸šè®¤è¯ã€‚è®¤è¯ç»“æŸåå³å¯è‡ªåŠ¨è·å¾—200ä¸‡å…è´¹tokené¢åº¦ã€‚å…¶ä¸­ä¸ªäººè®¤è¯éœ€è¦èº«ä»½è¯+æ”¯ä»˜å®æ‰«ç è¿›è¡Œäººè„¸è¯†åˆ«è®¤è¯ï¼Œä¼ä¸šè®¤è¯åˆ™éœ€è¦ä¼ä¸šåç§°ã€ç¤¾ä¼šä¿¡ç”¨ä»£ç å’Œè¥ä¸šæ‰§ç…§æ‰«æä»¶ç­‰ã€‚ä¸¤ç§ä¸åŒçš„è®¤è¯æ–¹æ³•å°±ç›¸å½“äºåˆ›å»ºä¸¤ç§ä¸åŒç±»å‹çš„è´¦æˆ·ï¼Œä¼ä¸šè´¦æˆ·å¯ä»¥å¼€å¢å€¼ç¨ä¸“ç”¨å‘ç¥¨ï¼Œå¹¶ä¸”ä¼šæ›´åŠ ä¾¿äºå¯¹è´¦æˆ·è¿›è¡Œç®¡ç†:

![](images/5f919434-baba-4364-a4a2-5c15d6fdaeca.png)

è¿™é‡Œå¦‚æœæ˜¯ä¸ªäººè®¤è¯ï¼Œåˆ™ç›´æ¥ç‚¹å‡»ä¸ªäººå®åè®¤è¯ï¼Œè¾“å…¥èº«ä»½è¯ã€ä»¥åŠæ”¯ä»˜å®æ‰«ç å®Œæˆè®¤è¯å³å¯ï¼š

![](images/2709e660-045f-4966-b00b-38412afa6d15.png)

å®Œæˆå®ååˆ¶ä¹‹åï¼Œæ¥ä¸‹æ¥å³å¯ç‚¹å‡»å·¦ä¾§[èµ„æºåŒ…ç®¡ç†](https://open.bigmodel.cn/usercenter/resourcepack)ï¼ŒæŸ¥çœ‹å½“å‰è´¦æˆ·èµ é€çš„tokené¢åº¦ã€‚èƒ½å¤Ÿå‘ç°ï¼Œèµ é€çš„é¢åº¦éƒ½æ˜¯1ä¸ªæœˆå†…æœ‰æ•ˆï¼š

![](images/a6560d77-0709-4827-bc8c-2f6a90b9a953.png)

åŒæ—¶ï¼Œåœ¨[èµ„æºåŒ…ç®¡ç†](https://open.bigmodel.cn/usercenter/resourcepack)é¡µé¢ä¸Šï¼Œä¹Ÿèƒ½çœ‹åˆ°æ–°ç”¨æˆ·é¦–æ¬¡å……å€¼ä¼˜æƒ æ´»åŠ¨ï¼Œ99å…ƒå¯ä»¥è´­ä¹°1.8äº¿tokené¢åº¦ã€‚è¿™é‡Œç‚¹å‡»å»è´­ä¹°é€‰é¡¹å³å¯è¿›å…¥è´­ä¹°é¡µé¢ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å®Œæˆäº†å®åæ³¨å†Œï¼Œæ‰å¯ä»¥è´­ä¹°å……å€¼åŒ…ï¼š

![](images/d38cf7af-baf1-4024-9e0a-c16809346d8a.png)

å…·ä½“å¤§å®¶å¯ä»¥æ ¹æ®å®é™…è‡ªèº«éœ€æ±‚é€‰æ‹©æ€§è¿›è¡Œè´­ä¹°ã€‚ä¸è¿‡ä¸€èˆ¬æ¥è¯´åœ¨çº¿æ¨¡å‹å‚å•†å‰æœŸçš„æ¨å¹¿æ´»åŠ¨éƒ½æ˜¯ç›¸å¯¹è¾ƒä¸ºä¼˜æƒ çš„ï¼Œä¾‹å¦‚OpenAIåœ¨23å¹´ä¸ŠåŠå¹´ï¼Œæ›¾ç»æ¨å‡ºè¿‡é¦–æ¬¡æ³¨å†Œç”¨æˆ·èµ é€18ç¾åˆ€æ´»åŠ¨ï¼Œä¹‹åæ”¹ä¸º5ç¾åˆ€ï¼Œç°åœ¨æ–°ç”¨æˆ·å·²ç»æ²¡æœ‰é¢å¤–ä¼˜æƒ æ´»åŠ¨äº†ã€‚

![](images/1d089e4d-330b-4d22-9d0c-ed04595cb5b6.png)

* æ™ºè°±AIè´¦æˆ·ç®¡ç†

â€ƒâ€ƒå¯¹äºä½¿ç”¨ä»˜è´¹çš„åœ¨çº¿æ¨¡å‹æ¥è¯´ï¼Œä¸ªäººè´¦æˆ·å°±ç›¸å½“äºä¸€ä¸ªåœ¨çº¿å‚¨å€¼ç³»ç»Ÿï¼Œä¸€èˆ¬æ¥è¯´éœ€è¦æå‰åœ¨è´¦æˆ·å†…å‚¨å€¼ï¼Œç„¶åæ™ºè°±AIå°†æ ¹æ®å®é™…æ¨¡å‹ä½¿ç”¨æƒ…å†µåœ¨è´¦æˆ·å†…è¿›è¡Œæ‰£è´¹ã€‚å› æ­¤äº†è§£è´¦æˆ·é¡µé¢çš„ä½¿ç”¨æ–¹æ³•éå¸¸é‡è¦ï¼Œåœ¨è´¦æˆ·é¡µé¢æˆ‘ä»¬èƒ½å®æ—¶ç›‘æ§å½“å‰è´¦æˆ·æ¶ˆè´¹æƒ…å†µã€è´¦æˆ·ä½™é¢ï¼Œè®¾ç½®ä½™é¢é¢„è­¦ç­‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨[è´¢åŠ¡æ€»è§ˆ](https://open.bigmodel.cn/usercenter/financialoverview)é¡µé¢æŸ¥çœ‹å½“å‰è´¦æˆ·åŸºæœ¬æƒ…å†µï¼š

![](images/4592ced5-18f0-4193-8ad6-681e2cf80b68.png)

åœ¨å½“å‰é¡µé¢ä¸­æˆ‘ä»¬å¯ä»¥å›´ç»•ä¸ªäººè´¦æˆ·è¿›è¡Œç®¡ç†ï¼Œä¾‹å¦‚è‹¥éœ€ä¸ºè´¦æˆ·å……å€¼ï¼Œç‚¹å‡»å³ä¾§å»å……å€¼æŒ‰é’®å³å¯ã€‚å……å€¼æ–¹å¼æ”¯æŒä¸ªäººæ”¯ä»˜å’Œå¯¹å…¬è½¬è´¦ä¸¤ç§ï¼š

![](images/9996db7a-e5ee-40fa-988a-d754071b3288.png)

è€Œè‹¥è¦è®¾ç½®ä½™é¢é¢„è­¦ï¼Œåˆ™ç‚¹å‡»é¡µé¢ä¸Šæ–¹è®¾ç½®æŒ‰é’®å³å¯ï¼š

![](images/105a37df-a65f-452f-8549-984d05211efc.png)

æ‰€è°“ä½™é¢é¢„è­¦ï¼ŒæŒ‡çš„æ˜¯å¯ä»¥è®¾ç½®æŸä¸ªä½™é¢çš„é˜ˆå€¼ï¼Œå½“ä½äºè¿™ä¸ªé˜ˆå€¼æ—¶ï¼Œç³»ç»Ÿå°†å‘é€çŸ­ä¿¡è¿›è¡Œæé†’ã€‚è¿™ä¹Ÿæ˜¯ä¸ºäº†ç¡®ä¿ä¸€äº›åº”ç”¨ç¨‹åºç¨³å®šè¿è¡Œã€é¿å…è¿è¡Œä¸­é€”å› æ¬ è´¹è€Œåœæ­¢ï¼Œæˆ–è€…æå‡è´¦æˆ·å®‰å…¨æ€§çš„é‡è¦æ–¹æ³•ã€‚

â€ƒâ€ƒæ­¤å¤–ï¼Œè¿˜å¯ä»¥åœ¨ä¸ªäººé¡µé¢å·¦ä¾§æŸ¥çœ‹è´¹ç”¨è´¦å•ã€å……å€¼æ˜ç»†å’Œå¯¼å‡ºè®°å½•ç­‰ã€‚

â€ƒâ€ƒè€Œä¸ä¹‹ç›¸å…³çš„äº§å“å®šä»·ï¼Œåˆ™å¯ä¸åœ¨pricingé¡µé¢æŸ¥çœ‹ï¼šhttps://open.bigmodel.cn/pricing

![](images/0d6af4ca-a963-4b7b-a4ab-cd6570d26949.png)

| æ¨¡å‹          | å•ä»·                |
| ----------- | ----------------- |
| GLM-4       | 0.1å…ƒ / åƒtokens    |
| GLM-3-Turbo | 0.005å…ƒ / åƒtokens  |
| CogView-3   | 0.25å…ƒ / å¼          |
| CharGLM-3   | 0.015å…ƒ / åƒtokens  |
| Embedding-2 | 0.0005å…ƒ / åƒtokens |

#### 3.GLMæ¨¡å‹API-KEYåˆ›å»ºä¸ç»´æŠ¤

* API-KEYè·å–å’Œåˆ›å»ºæµç¨‹

â€ƒâ€ƒæ‰€è°“API-KEYï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç”¨äºè¿›è¡Œåœ¨çº¿æ¨¡å‹è°ƒç”¨æ—¶çš„èº«ä»½éªŒè¯ã€‚GLMæ¨¡å‹çš„API-KEYè·å–æµç¨‹å¦‚ä¸‹ï¼Œé¦–å…ˆè¿˜æ˜¯ç™»å½•[ä¸ªäººä¸­å¿ƒï¼ˆæ§åˆ¶å°ï¼‰](https://open.bigmodel.cn/overview)ï¼Œç‚¹å‡»æŸ¥çœ‹API KEYï¼š

![](images/5dd678cb-ad83-4717-a2c5-06ab8cc0b709.png)

æˆ–è€…ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å‡»å¦‚ä¸‹ç½‘å€æŸ¥çœ‹API KEYï¼šhttps://open.bigmodel.cn/usercenter/apikeys

![](images/10827e67-9b0c-4f8e-a9d6-4aa0c404c8f3.png)

é¦–æ¬¡æŸ¥çœ‹API-KEYä¼šå‘ç°ç›®å‰å·²ç»æœ‰äº†ä¸€ä¸ªç³»ç»Ÿé»˜è®¤çš„API KEYï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥ç‚¹å‡»å¤åˆ¶ï¼Œå°±èƒ½å¤åˆ¶å½“å‰API KEYå­—ç¬¦ä¸²ã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡æˆ‘ä»¬ç»å¸¸éƒ½éœ€è¦è¾“å…¥API KEYï¼Œä½†å‡ºäºä¿å¯†æ€§è€ƒè™‘ï¼Œâ€œè¯·ä¸è¦ä¸ä»–äººå…±äº«æ‚¨æ‚¨çš„ API Keysï¼Œé¿å…å°†å…¶æš´éœ²åœ¨æµè§ˆå™¨å’Œå…¶ä»–å®¢æˆ·ç«¯ä»£ç ä¸­ã€‚â€å¹¶ä¸”æ ¹æ®è¯´æ˜ï¼Œæ™ºè°±AIè¿˜æœ‰è‡ªåŠ¨ä¿å¯†æªæ–½ï¼šâ€œä¸ºäº†ä¿æŠ¤æ‚¨å¸æˆ·çš„å®‰å…¨,æˆ‘ä»¬è¿˜å¯èƒ½ä¼šè‡ªåŠ¨æ›´æ¢æˆ‘ä»¬å‘ç°å·²å…¬å¼€æ³„éœ²çš„å¯†é’¥ä¿¡æ¯ã€‚â€

* è®¾ç½®API KEYç¯å¢ƒå˜é‡

â€ƒâ€ƒè€Œè¦å¦‚ä½•ä¸æ˜¾ç¤ºçš„å±•ç¤ºAPI-KEYï¼Œç”±åŒæ—¶èƒ½å¤Ÿé¡ºåˆ©çš„åœ¨ä»£ç ç¯å¢ƒä¸­è°ƒç”¨è¿™ä¸ªå­—ç¬¦ä¸²å‘¢ï¼Ÿæ¯”è¾ƒç®€å•æ˜“è¡Œçš„æ–¹æ³•å°±æ˜¯ç›´æ¥å°†å…¶è®¾ç½®ä¸ºç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œç„¶åé€šè¿‡os.getenvçš„æ–¹å¼è¿›è¡Œè¯»å–ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæ•´ä¸ªä»£ç è¿‡ç¨‹éƒ½ä¸ä¼šæ˜¾ç¤ºAPI KEYå­—ç¬¦ä¸²æœ¬èº«ï¼Œä½†èƒ½å®ŒæˆAPI KEYå­—ç¬¦ä¸²çš„è¯»å–å’Œè°ƒç”¨ï¼Œç±»ä¼¼å¦‚ä¸‹è¿‡ç¨‹ï¼š

![](images/1778f7ff-6626-42ff-b501-269d447ee262.png)

è€Œè¦å¦‚ä½•è®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡å‘¢ï¼Œé¦–å…ˆæ‰“å¼€ç³»ç»Ÿç¯å¢ƒå˜é‡é¢æ¿ï¼š

![](images/e3d86149-bb84-4841-821f-91a386a85c6c.png)

ç‚¹å‡»ç¯å¢ƒå˜é‡

![](images/971de676-3987-4fc0-95d4-1eadc9ecb5eb.png)

ç‚¹å‡»æ–°å»ºç³»ç»Ÿå˜é‡ï¼š

![](images/a3c77379-b459-4aea-ab1f-4dfc242a596f.png)

è®¾ç½®ç¯å¢ƒå˜é‡ã€‚è¿™é‡Œå˜é‡åå¯ä»¥ç»Ÿä¸€è®¾ç½®ä¸ºZHIPU\_API\_KEYï¼Œè€Œå˜é‡å€¼å°±æ˜¯åˆšåˆšæˆ‘ä»¬å¤åˆ¶çš„API-Keyã€‚

![](images/2b0ac85e-04ed-4725-8fe1-dec5459ec683.png)

ä¿å­˜é‡å¯ç”µè„‘ï¼Œæ–¹å¯ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆã€‚

å½“ç„¶ï¼Œåœ¨æ™ºè°±å®˜ç½‘çš„API-KEYé¡µé¢ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åˆ›å»ºå¤šä¸ªAPI-KEYï¼Œæˆ–åˆ é™¤è¿‡å¤šçš„API-KEYï¼Œä»è€Œå®Œæˆå¯¹API-KEYçš„æœ‰æ•ˆç®¡ç†ï¼š

![](images/e16f4ba4-4344-4f49-8552-eb963f2e6236.png)

* è°ƒç”¨æµ‹è¯•

â€ƒâ€ƒåœ¨å®Œæˆäº†APIè·å–å’Œæœ¬åœ°ç³»ç»Ÿç¯å¢ƒå˜é‡è®¾ç½®ä¹‹åï¼Œæ¥ä¸‹æ¥å³å¯æµ‹è¯•æ˜¯å¦èƒ½å¤Ÿåœ¨æœ¬åœ°ç¯å¢ƒä¸­è°ƒç”¨GLM4æ¨¡å‹äº†ã€‚è¿™é‡Œå°è¯•è¿è¡Œå¦‚ä¸‹ä»£ç ï¼Œè‹¥èƒ½æ­£ç¡®è¿”å›ç»“æœï¼Œåˆ™è¯´æ˜å½“å‰API-KEYè·å–å’Œç³»ç»Ÿç¯å¢ƒå˜é‡è®¾ç½®æ— è¯¯ã€‚é¦–å…ˆéœ€è¦å®‰è£…zhipuaiåº“ï¼š

```python
!pip install zhipuai
```

```plaintext
Requirement already satisfied: zhipuai in c:\users\admin\anaconda3\lib\site-packages (2.0.1)
Requirement already satisfied: httpx>=0.23.0 in c:\users\admin\appdata\roaming\python\python311\site-packages (from zhipuai) (0.25.1)
Requirement already satisfied: pydantic>=2.5.2 in c:\users\admin\anaconda3\lib\site-packages (from zhipuai) (2.5.3)
Requirement already satisfied: cachetools>=4.2.2 in c:\users\admin\anaconda3\lib\site-packages (from zhipuai) (5.3.1)
Requirement already satisfied: pyjwt~=2.8.0 in c:\users\admin\anaconda3\lib\site-packages (from zhipuai) (2.8.0)
Requirement already satisfied: anyio in c:\users\admin\anaconda3\lib\site-packages (from httpx>=0.23.0->zhipuai) (3.5.0)
Requirement already satisfied: certifi in c:\users\admin\anaconda3\lib\site-packages (from httpx>=0.23.0->zhipuai) (2023.7.22)
Requirement already satisfied: httpcore in c:\users\admin\appdata\roaming\python\python311\site-packages (from httpx>=0.23.0->zhipuai) (1.0.1)
Requirement already satisfied: idna in c:\users\admin\anaconda3\lib\site-packages (from httpx>=0.23.0->zhipuai) (3.4)
Requirement already satisfied: sniffio in c:\users\admin\anaconda3\lib\site-packages (from httpx>=0.23.0->zhipuai) (1.2.0)
Requirement already satisfied: annotated-types>=0.4.0 in c:\users\admin\appdata\roaming\python\python311\site-packages (from pydantic>=2.5.2->zhipuai) (0.6.0)
Requirement already satisfied: pydantic-core==2.14.6 in c:\users\admin\anaconda3\lib\site-packages (from pydantic>=2.5.2->zhipuai) (2.14.6)
Requirement already satisfied: typing-extensions>=4.6.1 in c:\users\admin\anaconda3\lib\site-packages (from pydantic>=2.5.2->zhipuai) (4.7.1)
Requirement already satisfied: h11<0.15,>=0.13 in c:\users\admin\appdata\roaming\python\python311\site-packages (from httpcore->httpx>=0.23.0->zhipuai) (0.14.0)
```

ç„¶åå°è¯•è¿è¡Œå¦‚ä¸‹ä»£ç ï¼š

```python
import os
api_key = os.getenv("ZHIPU_API_KEY")
```

```python
from zhipuai import ZhipuAI
client = ZhipuAI(api_key=api_key) 
response = client.chat.completions.create(
    model="glm-4",  # å¡«å†™éœ€è¦è°ƒç”¨çš„æ¨¡å‹åç§°
    messages=[
        {"role": "user", "content": "ä½ å¥½"}
    ],
)
print(response.choices[0].message)
```

```plaintext
content='ä½ å¥½ğŸ‘‹ï¼æˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹æ™ºè°±æ¸…è¨€ï¼Œå¯ä»¥å«æˆ‘å°æ™ºğŸ¤–ï¼Œå¾ˆé«˜å…´è§åˆ°ä½ ï¼Œæ¬¢è¿é—®æˆ‘ä»»ä½•é—®é¢˜ã€‚' role='assistant' tool_calls=None
```

è‹¥èƒ½æ­£å¸¸è¿”å›ç»“æœï¼Œåˆ™è¯´æ˜æ­¤å‰é…ç½®æ— è¯¯ã€‚è‡³æ­¤ï¼Œæˆ‘ä»¬å°±å®Œæ•´äº†è§£äº†GLM-4å®˜ç½‘çš„åŸºæœ¬ä½¿ç”¨æ–¹æ³•ä»¥åŠæ¨¡å‹è°ƒç”¨æ–¹æ³•ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°†ä»¥GLM-4ä¸ºæ ¸å¿ƒæ¨¡å‹ï¼Œæ¥ä»‹ç»å…·ä½“å¤§æ¨¡å‹æŠ€æœ¯åº”ç”¨æ–¹æ³•ã€‚

***

* é«˜é˜¶è‡ªç„¶è¯­è¨€ç¼–ç¨‹ç­–ç•¥

![](images/dd939eb0-5b6d-4990-9922-5829a166c2d8.png)

&#x20;

![](images/09acb3a5-0524-414d-aab3-95409e160972.png)

&#x20;

![](images/6f220213-dbc7-4330-ab93-4aec143a5dd5.png)

***

ğŸ“**æ›´å¤šå¤§æ¨¡å‹æŠ€æœ¯å†…å®¹å­¦ä¹ **

**æ‰«ç æ·»åŠ åŠ©ç†è‹±è‹±ï¼Œå›å¤â€œå¤§æ¨¡å‹â€ï¼Œäº†è§£æ›´å¤šå¤§æ¨¡å‹æŠ€æœ¯è¯¦æƒ…å“¦ğŸ‘‡**

![](images/f339b04b7b20233dd1509c7fb36d5c0.png)

æ­¤å¤–ï¼Œ**æ‰«ç å›å¤â€œå…¥ç¾¤â€**ï¼Œå³å¯åŠ å…¥**å¤§æ¨¡å‹æŠ€æœ¯ç¤¾ç¾¤ï¼šæµ·é‡ç¡¬æ ¸ç‹¬å®¶æŠ€æœ¯`å¹²è´§å†…å®¹`+æ— é—¨æ§›`æŠ€æœ¯äº¤æµ`ï¼**

***

