â€ƒâ€ƒåœ¨æœ¬æ¬¡ChatGLM3æ›´æ–°ä¸­ï¼Œé‡ç£…æ›´æ–°äº†æ¨¡å‹è°ƒç”¨çš„æ¶ˆæ¯é˜Ÿåˆ—æ ¼å¼ï¼Œç”±åŸå…ˆçš„â€œ1å¯¹1å¯¹è¯æ¨¡å¼â€æ”¹ä¸ºâ€œå¤šè§’è‰²å¯¹è¯æ¨¡å¼â€ã€‚ç›¸å…³åŸºç¡€æ¦‚å¿µä»‹ç»è¯¦è§å…¬å¼€è¯¾ï¼š[ChatGLM3å…¨æ–°æ¶ˆæ¯é˜Ÿåˆ—åŠŸèƒ½ä»‹ç»ï¼æ¥å…¥å…ˆè¿›å¤šè§’è‰²å¯¹è¯åŠŸèƒ½ï¼](https://www.bilibili.com/video/BV1fg4y197xM/)

![](images/cdb8fbe3-1235-4007-9615-1f8112344a00.png)

æœ¬æ¬¡æ›´æ–°ä¸ä»…åœ¨æ¨¡å‹æ”¯æŒçš„å¯¹è¯æ¶ˆæ¯é˜Ÿåˆ—å±‚é¢å…¨é¢å’ŒOpenAIçš„Chatæ¨¡å‹æ¥è½¨ï¼ŒåŒæ—¶ä¸ºäº†æ›´å¥½çš„æ¥å…¥ä»¥OpenAIä¸ºä¸»å¯¼çš„AIåº”ç”¨å¼€å‘ç”Ÿæ€ï¼Œæœ¬æ¬¡ChatGML3æ¨¡å‹è¿˜æä¾›äº†ç±»OpenAI Chatæ¨¡å‹çš„è°ƒç”¨æ–¹æ³•ï¼Œå³å¯ä»¥é€šè¿‡openai.ChatCompletionå‡½æ•°ç›´æ¥è°ƒç”¨ChatGML3æ¨¡å‹ã€‚æ¢è€Œè¨€ä¹‹ï¼Œå¯¹äºä¸€ä¸ªä½¿ç”¨OpenAI APIåˆ›å»ºçš„åº”ç”¨è€Œè¨€ï¼Œç°åœ¨æˆ‘ä»¬åªéœ€è¦å°†åŸå…ˆä»£ç ä¸­çš„modelå‚æ•°ä¿®æ”¹ä¸º'chatglm3-6b'å³å¯ã€‚ä¸€ä¸ªç»Ÿä¸€çš„è°ƒç”¨æ–¹æ³•ï¼Œæ— ç–‘å¯¹å¼€å‘è€…æ¥è¯´æ˜¯é‡å¤§åˆ©å¥½ã€‚

![](images/b903d49c-a7fb-44ea-beee-9c494878b2fe.png)

### 1.ChatGLM3è°ƒç”¨æ–¹æ³•ä¸messageså‚æ•°è¯¦è§£

#### 1.1 ChatGLM3è°ƒç”¨æµç¨‹åŠè¿”å›ç»“æœè¯´æ˜

```python
response_glm3 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": "ä½ å¥½"}
                      ]
                    )
```

```python
response_glm3['choices'][0]['message']["content"]
```

```plaintext
'\n ä½ å¥½ğŸ‘‹ï¼æˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹ ChatGLM3-6Bï¼Œå¾ˆé«˜å…´è§åˆ°ä½ ï¼Œæ¬¢è¿é—®æˆ‘ä»»ä½•é—®é¢˜ã€‚'
```

```python
response = openai.ChatCompletion.create(
    model="chatglm3-6b",
    messages=[
        {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ "}
    ]
)
```

```python
response['choices'][0]['message']["content"]
```

```plaintext
'\n æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§è®©è®¡ç®—æœºç³»ç»Ÿé€šè¿‡æ•°æ®è‡ªåŠ¨å­¦ä¹ å’Œæ”¹è¿›çš„æ–¹æ³•,ä»¥ä¾¿åœ¨ä¸è¿›è¡Œæ˜ç¡®ç¼–ç¨‹çš„æƒ…å†µä¸‹åšå‡ºé¢„æµ‹æˆ–å†³ç­–ã€‚æœºå™¨å­¦ä¹ ç®—æ³•å¯ä»¥åˆ†æå¤§é‡æ•°æ®,ä»ä¸­å‘ç°æ¨¡å¼å’Œè§„å¾‹,ç„¶ååˆ©ç”¨è¿™äº›ä¿¡æ¯è¿›è¡Œé¢„æµ‹ã€åˆ†ç±»ã€è¯†åˆ«ã€å…³è” rule æŒ–æ˜ç­‰ä»»åŠ¡ã€‚æœºå™¨å­¦ä¹ ä¸­å¸¸ç”¨çš„ç®—æ³•åŒ…æ‹¬å†³ç­–æ ‘ã€æ”¯æŒå‘é‡æœºã€ç¥ç»ç½‘ç»œã€éšæœºæ£®æ—ç­‰ã€‚æœºå™¨å­¦ä¹ çš„åº”ç”¨èŒƒå›´éå¸¸å¹¿æ³›,ä¾‹å¦‚è¯­éŸ³è¯†åˆ«ã€å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€æ¨èç³»ç»Ÿã€æ™ºèƒ½å®¢æœç­‰ã€‚'
```

èƒ½å¤Ÿçœ‹å‡ºï¼Œmessageså‚æ•°æ˜¯ä¸€ä¸ªåŸºæœ¬æ„æˆå…ƒç´ ä¸ºå­—å…¸çš„åˆ—è¡¨ï¼Œå…¶å†…æ¯ä¸ªå­—å…¸éƒ½ä»£è¡¨ä¸€æ¡ç‹¬ç«‹çš„æ¶ˆæ¯ï¼Œæ¯ä¸ªå­—å…¸éƒ½åŒ…å«ä¸¤ä¸ªé”®å€¼ï¼ˆKey-valueï¼‰å¯¹ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªKeyéƒ½æ˜¯å­—ç¬¦ä¸²roleï¼ˆè§’è‰²ï¼‰è¡¨ç¤ºæŸæ¡æ¶ˆæ¯çš„ä½œè€…ï¼Œç¬¬äºŒä¸ªkeyä¸ºcontentï¼ˆå†…å®¹ï¼‰è¡¨ç¤ºæ¶ˆæ¯å…·ä½“å†…å®¹ã€‚å¯ä»¥è¯´messageså‚æ•°æ˜¯ChatCompletion.createå‡½æ•°æœ€é‡è¦çš„å‚æ•°ä¹‹ä¸€ï¼Œèƒ½å¤Ÿçœ‹å‡ºæ¯”ç®€å•çš„promptå‚æ•°æ ¼å¼è¦æ›´åŠ å¤æ‚ã€‚æ›´å¤šå…³äºmessageçš„å‚æ•°è®¾ç½®æ–¹æ³•ç¨åä»‹ç»ï¼Œæ€»çš„æ¥çœ‹ï¼Œè¿™é‡Œçš„messageså°±å¯ä»¥ç®€å•ç†è§£ä¸ºè¾“å…¥ç»™æ¨¡å‹çš„ä¿¡æ¯ï¼Œè€Œæ¨¡å‹æ¥æ”¶åˆ°messageä¹‹åä¹Ÿä¼šè¾“å‡ºå¯¹åº”çš„å›ç­”ä¿¡æ¯ï¼Œå½“ç„¶ä¹Ÿæ˜¯ä»¥messageå½¢å¼å‘ˆç°ï¼š

```python
response
```

```plaintext
<OpenAIObject chat.completion at 0x7fd3d5061260> JSON: {
  "model": "chatglm3-6b",
  "object": "chat.completion",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "\n \u673a\u5668\u5b66\u4e60\u662f\u4e00\u79cd\u4eba\u5de5\u667a\u80fd\u7684\u5206\u652f\uff0c\u5b83\u8ba9\u8ba1\u7b97\u673a\u901a\u8fc7\u5bf9\u5927\u91cf\u6570\u636e\u8fdb\u884c\u5b66\u4e60\u548c\u5206\u6790\uff0c\u81ea\u52a8\u8bc6\u522b\u6a21\u5f0f\u5e76\u505a\u51fa\u9884\u6d4b\u6216\u51b3\u7b56\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u662f\u7528\u6765\u8bad\u7ec3\u6a21\u578b\u7684\u8f6f\u4ef6\u7a0b\u5e8f\uff0c\u5b83\u4eec\u53ef\u4ee5\u4ece\u6570\u636e\u4e2d\u63d0\u53d6\u77e5\u8bc6\uff0c\u5e76\u5bf9\u65b0\u7684\u3001\u672a\u89c1\u8fc7\u7684\u6570\u636e\u8fdb\u884c\u5206\u7c7b\u3001\u9884\u6d4b\u6216\u751f\u6210\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4f7f\u8ba1\u7b97\u673a\u80fd\u591f\u50cf\u4eba\u7c7b\u4e00\u6837\u5b66\u4e60\uff0c\u5e76\u5728\u5404\u79cd\u60c5\u5883\u4e0b\u505a\u51fa\u6b63\u786e\u7684\u5224\u65ad\u548c\u51b3\u7b56\u3002\u5e38\u89c1\u7684\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u5305\u62ec\u7ebf\u6027\u56de\u5f52\u3001\u903b\u8f91\u56de\u5f52\u3001\u652f\u6301\u5411\u91cf\u673a\u3001\u51b3\u7b56\u6811\u3001\u968f\u673a\u68ee\u6797\u3001\u795e\u7ecf\u7f51\u7edc\u7b49\u3002",
        "metadata": null,
        "tools": null
      },
      "finish_reason": "stop",
      "history": null
    }
  ],
  "created": 1698831121,
  "usage": {
    "prompt_tokens": 24,
    "total_tokens": 135,
    "completion_tokens": 111
  }
}
```

```python
type(response)
```

```plaintext
openai.openai_object.OpenAIObject
```

```python
response["choices"]
```

```plaintext
[<OpenAIObject at 0x7fd3d5058ae0> JSON: {
   "index": 0,
   "message": {
     "role": "assistant",
     "content": "\n \u673a\u5668\u5b66\u4e60\u662f\u4e00\u79cd\u4eba\u5de5\u667a\u80fd\u7684\u5206\u652f\uff0c\u5b83\u8ba9\u8ba1\u7b97\u673a\u901a\u8fc7\u5bf9\u5927\u91cf\u6570\u636e\u8fdb\u884c\u5b66\u4e60\u548c\u5206\u6790\uff0c\u81ea\u52a8\u8bc6\u522b\u6a21\u5f0f\u5e76\u505a\u51fa\u9884\u6d4b\u6216\u51b3\u7b56\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u662f\u7528\u6765\u8bad\u7ec3\u6a21\u578b\u7684\u8f6f\u4ef6\u7a0b\u5e8f\uff0c\u5b83\u4eec\u53ef\u4ee5\u4ece\u6570\u636e\u4e2d\u63d0\u53d6\u77e5\u8bc6\uff0c\u5e76\u5bf9\u65b0\u7684\u3001\u672a\u89c1\u8fc7\u7684\u6570\u636e\u8fdb\u884c\u5206\u7c7b\u3001\u9884\u6d4b\u6216\u751f\u6210\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4f7f\u8ba1\u7b97\u673a\u80fd\u591f\u50cf\u4eba\u7c7b\u4e00\u6837\u5b66\u4e60\uff0c\u5e76\u5728\u5404\u79cd\u60c5\u5883\u4e0b\u505a\u51fa\u6b63\u786e\u7684\u5224\u65ad\u548c\u51b3\u7b56\u3002\u5e38\u89c1\u7684\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u5305\u62ec\u7ebf\u6027\u56de\u5f52\u3001\u903b\u8f91\u56de\u5f52\u3001\u652f\u6301\u5411\u91cf\u673a\u3001\u51b3\u7b56\u6811\u3001\u968f\u673a\u68ee\u6797\u3001\u795e\u7ecf\u7f51\u7edc\u7b49\u3002",
     "metadata": null,
     "tools": null
   },
   "finish_reason": "stop",
   "history": null
 }]
```

```python
response.choices
```

```plaintext
[<OpenAIObject at 0x7fd3d5058ae0> JSON: {
   "index": 0,
   "message": {
     "role": "assistant",
     "content": "\n \u673a\u5668\u5b66\u4e60\u662f\u4e00\u79cd\u4eba\u5de5\u667a\u80fd\u7684\u5206\u652f\uff0c\u5b83\u8ba9\u8ba1\u7b97\u673a\u901a\u8fc7\u5bf9\u5927\u91cf\u6570\u636e\u8fdb\u884c\u5b66\u4e60\u548c\u5206\u6790\uff0c\u81ea\u52a8\u8bc6\u522b\u6a21\u5f0f\u5e76\u505a\u51fa\u9884\u6d4b\u6216\u51b3\u7b56\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u662f\u7528\u6765\u8bad\u7ec3\u6a21\u578b\u7684\u8f6f\u4ef6\u7a0b\u5e8f\uff0c\u5b83\u4eec\u53ef\u4ee5\u4ece\u6570\u636e\u4e2d\u63d0\u53d6\u77e5\u8bc6\uff0c\u5e76\u5bf9\u65b0\u7684\u3001\u672a\u89c1\u8fc7\u7684\u6570\u636e\u8fdb\u884c\u5206\u7c7b\u3001\u9884\u6d4b\u6216\u751f\u6210\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4f7f\u8ba1\u7b97\u673a\u80fd\u591f\u50cf\u4eba\u7c7b\u4e00\u6837\u5b66\u4e60\uff0c\u5e76\u5728\u5404\u79cd\u60c5\u5883\u4e0b\u505a\u51fa\u6b63\u786e\u7684\u5224\u65ad\u548c\u51b3\u7b56\u3002\u5e38\u89c1\u7684\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u5305\u62ec\u7ebf\u6027\u56de\u5f52\u3001\u903b\u8f91\u56de\u5f52\u3001\u652f\u6301\u5411\u91cf\u673a\u3001\u51b3\u7b56\u6811\u3001\u968f\u673a\u68ee\u6797\u3001\u795e\u7ecf\u7f51\u7edc\u7b49\u3002",
     "metadata": null,
     "tools": null
   },
   "finish_reason": "stop",
   "history": null
 }]
```

```python
response.choices[0]
```

```plaintext
<OpenAIObject at 0x7fd3d5058ae0> JSON: {
  "index": 0,
  "message": {
    "role": "assistant",
    "content": "\n \u673a\u5668\u5b66\u4e60\u662f\u4e00\u79cd\u4eba\u5de5\u667a\u80fd\u7684\u5206\u652f\uff0c\u5b83\u8ba9\u8ba1\u7b97\u673a\u901a\u8fc7\u5bf9\u5927\u91cf\u6570\u636e\u8fdb\u884c\u5b66\u4e60\u548c\u5206\u6790\uff0c\u81ea\u52a8\u8bc6\u522b\u6a21\u5f0f\u5e76\u505a\u51fa\u9884\u6d4b\u6216\u51b3\u7b56\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u662f\u7528\u6765\u8bad\u7ec3\u6a21\u578b\u7684\u8f6f\u4ef6\u7a0b\u5e8f\uff0c\u5b83\u4eec\u53ef\u4ee5\u4ece\u6570\u636e\u4e2d\u63d0\u53d6\u77e5\u8bc6\uff0c\u5e76\u5bf9\u65b0\u7684\u3001\u672a\u89c1\u8fc7\u7684\u6570\u636e\u8fdb\u884c\u5206\u7c7b\u3001\u9884\u6d4b\u6216\u751f\u6210\u3002\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u4f7f\u8ba1\u7b97\u673a\u80fd\u591f\u50cf\u4eba\u7c7b\u4e00\u6837\u5b66\u4e60\uff0c\u5e76\u5728\u5404\u79cd\u60c5\u5883\u4e0b\u505a\u51fa\u6b63\u786e\u7684\u5224\u65ad\u548c\u51b3\u7b56\u3002\u5e38\u89c1\u7684\u673a\u5668\u5b66\u4e60\u7b97\u6cd5\u5305\u62ec\u7ebf\u6027\u56de\u5f52\u3001\u903b\u8f91\u56de\u5f52\u3001\u652f\u6301\u5411\u91cf\u673a\u3001\u51b3\u7b56\u6811\u3001\u968f\u673a\u68ee\u6797\u3001\u795e\u7ecf\u7f51\u7edc\u7b49\u3002",
    "metadata": null,
    "tools": null
  },
  "finish_reason": "stop",
  "history": null
}
```

```python
response.choices[0].message['content']
```

```plaintext
'\n æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§äººå·¥æ™ºèƒ½çš„åˆ†æ”¯ï¼Œå®ƒè®©è®¡ç®—æœºé€šè¿‡å¯¹å¤§é‡æ•°æ®è¿›è¡Œå­¦ä¹ å’Œåˆ†æï¼Œè‡ªåŠ¨è¯†åˆ«æ¨¡å¼å¹¶åšå‡ºé¢„æµ‹æˆ–å†³ç­–ã€‚æœºå™¨å­¦ä¹ ç®—æ³•æ˜¯ç”¨æ¥è®­ç»ƒæ¨¡å‹çš„è½¯ä»¶ç¨‹åºï¼Œå®ƒä»¬å¯ä»¥ä»æ•°æ®ä¸­æå–çŸ¥è¯†ï¼Œå¹¶å¯¹æ–°çš„ã€æœªè§è¿‡çš„æ•°æ®è¿›è¡Œåˆ†ç±»ã€é¢„æµ‹æˆ–ç”Ÿæˆã€‚æœºå™¨å­¦ä¹ ç®—æ³•çš„ç›®æ ‡æ˜¯ä½¿è®¡ç®—æœºèƒ½å¤Ÿåƒäººç±»ä¸€æ ·å­¦ä¹ ï¼Œå¹¶åœ¨å„ç§æƒ…å¢ƒä¸‹åšå‡ºæ­£ç¡®çš„åˆ¤æ–­å’Œå†³ç­–ã€‚å¸¸è§çš„æœºå™¨å­¦ä¹ ç®—æ³•åŒ…æ‹¬çº¿æ€§å›å½’ã€é€»è¾‘å›å½’ã€æ”¯æŒå‘é‡æœºã€å†³ç­–æ ‘ã€éšæœºæ£®æ—ã€ç¥ç»ç½‘ç»œç­‰ã€‚'
```

å¯ä»¥è¯´ï¼Œåœ¨è·å–å¯¹è¯ç»“æœçš„è¿‡ç¨‹ä¸­ï¼Œé™¤äº†ChatCompletion.createè¿”å›ç»“æœæœ€ç»ˆæ˜¯ä¿å­˜åœ¨messageå±æ€§ä¸­ï¼ˆCompletion.createè¿”å›ç»“æœæ˜¯ä¿å­˜åœ¨textå±æ€§ä¸­ï¼‰ï¼Œå…¶ä»–æ–¹é¢ChatCompletion.createçš„è¿”å›ç»“æœå’ŒCompletion.createè¿”å›ç»“æœå®Œå…¨ä¸€è‡´ã€‚è€Œæ–‡æœ¬è¡¥å…¨æ¨¡å‹éœ€è¦è¾“å…¥â€œpromptâ€ï¼Œè¾“å‡ºç»“æœæ˜¯â€œtextâ€ï¼›è€Œå¯¹è¯æ¨¡å‹éœ€è¦è¾“å…¥â€œmessageâ€ï¼Œè¿”å›ä¹Ÿæ˜¯â€œmessageâ€ï¼Œå¯ä»¥è¯´è¿™ç§æ–‡æœ¬äº¤äº’å½¢å¼ç¡®å®éå¸¸ç¬¦åˆäººç±»åœ¨è¿›è¡ŒèŠå¤©æ—¶çš„é—®ç­”ä¹ æƒ¯ã€‚

#### 1.2 messageå‚æ•°ç»“æ„åŠåŠŸèƒ½è§£é‡Š

â€ƒâ€ƒæ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹ChatCompletion.createå‡½æ•°éå¸¸é‡è¦çš„å‚æ•°â€”â€”messagesä½¿ç”¨æ–¹æ³•ã€‚æ€»çš„æ¥è¯´ï¼Œmessagesæ˜¯ä¸€ç§ç”¨äºæè¿°ChatCompletionæ¨¡å‹å’Œç”¨æˆ·ä¹‹é—´é€šä¿¡ä¿¡æ¯çš„é«˜çº§æŠ½è±¡ï¼Œä»è¡¨ç¤ºå½¢å¼ä¸Šæ¥è¯´ï¼Œä¸€ä¸ªmessagesæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«å¤šä¸ªå­—å…¸ï¼Œè€Œæ¯ä¸ªå­—å…¸éƒ½æ˜¯ä¸€æ¡æ¶ˆæ¯ï¼Œå…¶ä¸­ï¼Œä¸€æ¡æ¶ˆæ¯ç”±åŒ…å«ä¸¤ä¸ªé”®å€¼å¯¹ï¼ˆå³æ¯ä¸ªå­—å…¸éƒ½åŒ…å«ä¸¤ä¸ªé”®å€¼å¯¹ï¼‰ï¼Œç¬¬ä¸€ä¸ªé”®å€¼å¯¹ç”¨äºè¡¨ç¤ºæ¶ˆæ¯å‘é€è€…ï¼Œå…¶ä¸­ç¬¬ä¸€ä¸ªKeyä¸ºå­—ç¬¦ä¸²'role'ï¼ŒValueä¸ºå‚ä¸å¯¹è¯çš„è§’è‰²åç§°ï¼Œæˆ–è€…å¯ä»¥ç†è§£ä¸ºæœ¬æ¡æ¶ˆæ¯çš„ä½œè€…æˆ–æ¶ˆæ¯å‘é€äººåç§°ï¼Œç¬¬äºŒä¸ªé”®å€¼å¯¹è¡¨ç¤ºå…·ä½“æ¶ˆæ¯å†…å®¹ï¼ŒKeyä¸ºå­—ç¬¦ä¸²'content'ï¼ŒValueä¸ºå…·ä½“çš„æ¶ˆæ¯å†…å®¹ï¼Œç”¨å­—ç¬¦ä¸²è¡¨ç¤ºã€‚

ä¾‹å¦‚ä¸Šè¿°ç¤ºä¾‹ä¸­çš„messageså°±æ€»å…±åŒ…å«ä¸€æ¡ä¿¡æ¯ï¼Œå³ä¸€ä¸ªä¸€ä¸ªåä¸ºuserçš„è§’è‰²å‘é€äº†ä¸€æ¡åä¸º'è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ'çš„æ¶ˆæ¯ï¼š

```python
messages=[
    {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ"}
]
```

è€ŒåŒæ—¶ï¼Œè¿”å›çš„messageç»“æœä¹Ÿæ˜¯ä¸€ä¸ªâ€œå­—å…¸â€ï¼Œå¹¶ä¸”ä¹ŸåŒ…å«äº†ä¿¡æ¯çš„å‘é€æ–¹å’Œå…·ä½“ä¿¡æ¯å†…å®¹ï¼Œä¸éš¾çœ‹å‡ºï¼Œæ­¤æ—¶è¿”å›çš„messageå‘é€æ–¹æ˜¯ä¸€ä¸ªåä¸º'assistant'çš„è§’è‰²ï¼Œè€Œå…·ä½“å†…å®¹åˆ™æ˜¯ä¸€æ®µå…³äºä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ çš„æè¿°ï¼š

```python
response.choices[0].message
```

```plaintext
<OpenAIObject at 0x2017fa89d10> JSON: {
  "content": "\u673a\u5668\u5b66\u4e60\u662f\u4e00\u79cd\u4eba\u5de5\u667a\u80fd\u7684\u5206\u652f\u9886\u57df\uff0c\u5b83\u7814\u7a76\u5982\u4f55\u4f7f\u8ba1\u7b97\u673a\u7cfb\u7edf\u6839\u636e\u6570\u636e\u548c\u7ecf\u9a8c\u81ea\u52a8\u6539\u5584\u548c\u9002\u5e94\uff0c\u800c\u65e0\u9700\u660e\u786e\u5730\u8fdb\u884c\u7f16\u7a0b\u3002\u673a\u5668\u5b66\u4e60\u7684\u76ee\u6807\u662f\u901a\u8fc7\u6784\u5efa\u6a21\u578b\u548c\u7b97\u6cd5\uff0c\u8ba9\u8ba1\u7b97\u673a\u80fd\u591f\u4ece\u5927\u91cf\u6570\u636e\u4e2d\u5b66\u4e60\uff0c\u5e76\u4e14\u53ef\u4ee5\u4ece\u4e2d\u53d1\u73b0\u6a21\u5f0f\u3001\u505a\u51fa\u9884\u6d4b\u548c\u505a\u51fa\u76f8\u5e94\u7684\u51b3\u7b56\u3002\u673a\u5668\u5b66\u4e60\u6280\u672f\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u56fe\u50cf\u548c\u8bed\u97f3\u8bc6\u522b\u3001\u81ea\u7136\u8bed\u8a00\u5904\u7406\u3001\u63a8\u8350\u7cfb\u7edf\u3001\u6570\u636e\u6316\u6398\u7b49\u9886\u57df\uff0c\u4ee5\u89e3\u51b3\u590d\u6742\u95ee\u9898\u548c\u6539\u8fdb\u4eba\u5de5\u667a\u80fd\u7cfb\u7edf\u7684\u6027\u80fd\u3002",
  "role": "assistant"
}
```

```python
response.choices[0].message['content']
```

```plaintext
'æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§äººå·¥æ™ºèƒ½çš„åˆ†æ”¯é¢†åŸŸï¼Œå®ƒç ”ç©¶å¦‚ä½•ä½¿è®¡ç®—æœºç³»ç»Ÿæ ¹æ®æ•°æ®å’Œç»éªŒè‡ªåŠ¨æ”¹å–„å’Œé€‚åº”ï¼Œè€Œæ— éœ€æ˜ç¡®åœ°è¿›è¡Œç¼–ç¨‹ã€‚æœºå™¨å­¦ä¹ çš„ç›®æ ‡æ˜¯é€šè¿‡æ„å»ºæ¨¡å‹å’Œç®—æ³•ï¼Œè®©è®¡ç®—æœºèƒ½å¤Ÿä»å¤§é‡æ•°æ®ä¸­å­¦ä¹ ï¼Œå¹¶ä¸”å¯ä»¥ä»ä¸­å‘ç°æ¨¡å¼ã€åšå‡ºé¢„æµ‹å’Œåšå‡ºç›¸åº”çš„å†³ç­–ã€‚æœºå™¨å­¦ä¹ æŠ€æœ¯è¢«å¹¿æ³›åº”ç”¨äºå›¾åƒå’Œè¯­éŸ³è¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€æ¨èç³»ç»Ÿã€æ•°æ®æŒ–æ˜ç­‰é¢†åŸŸï¼Œä»¥è§£å†³å¤æ‚é—®é¢˜å’Œæ”¹è¿›äººå·¥æ™ºèƒ½ç³»ç»Ÿçš„æ€§èƒ½ã€‚'
```

ç”±æ­¤ä¸éš¾çœ‹å‡ºï¼ŒChatæ¨¡å‹çš„æ¯ä¸ªå¯¹è¯ä»»åŠ¡éƒ½æ˜¯é€šè¿‡è¾“å…¥å’Œè¾“å‡ºmessageæ¥å®Œæˆçš„ã€‚

#### 1.2 messagesä¸­çš„è§’è‰²åˆ’åˆ†

* user roleå’Œassistant role

â€ƒâ€ƒé‚£ä¹ˆæ¥ä¸‹æ¥çš„é—®é¢˜å°±æ˜¯ï¼Œåœ¨å®é™…è°ƒç”¨Chatæ¨¡å‹è¿›è¡Œå¯¹è¯æ—¶ï¼Œmessagesä¸­çš„roleåº”è¯¥å¦‚ä½•è®¾ç½®å‘¢ï¼Ÿä»ä¸Šè¿°æç®€çš„å¯¹è¯ç¤ºä¾‹ä¸­èƒ½å¤Ÿçœ‹å‡ºï¼Œä¸€ä¸ªæœ€ç®€å•çš„å¯¹è¯å°±æ˜¯æˆ‘ä»¬æ‰®æ¼”userï¼ˆç”¨æˆ·ï¼‰è¿™ä¸ªè§’è‰²ï¼ˆ'role':'user'ï¼‰ï¼Œç„¶ååœ¨contentä¸­è¾“å…¥æˆ‘ä»¬çš„é—®é¢˜å¹¶ç­‰å¾…æ¨¡å‹å›ç­”ã€‚è€Œæ¨¡å‹åœ¨å®é™…å›ç­”è¿‡ç¨‹ä¸­ï¼Œä¹Ÿä¼šæ‰®æ¼”ä¸€ä¸ªåä¸ºassistantï¼ˆåŠ©æ‰‹ï¼‰è¿™ä¸ªè§’è‰²ï¼ˆ'role':'assistant'ï¼‰è¿›è¡Œå›ç­”ï¼Œè¿™é‡Œçš„userå’Œassistantæ˜¯å…·æœ‰æ˜ç¡®å«ä¹‰çš„å­—ç¬¦ä¸²ï¼Œå³å¦‚æœä¸€æ¡ä¿¡æ¯çš„roleæ˜¯userï¼Œåˆ™è¡¨æ˜è¿™æ˜¯ç”¨æˆ·å‘æ¨¡å‹å‘é€çš„èŠå¤©ä¿¡æ¯ï¼Œç›¸å½“äºæ˜¯Completionæ¨¡å‹ä¸­çš„promptï¼Œè€Œå¦‚æœä¸€æ¡ä¿¡æ¯çš„roleæ˜¯assistantï¼Œåˆ™è¡¨ç¤ºè¿™æ˜¯å½“å‰æ¨¡å‹å›´ç»•æŸæ¡ç”¨æˆ·ä¿¡æ¯åšå‡ºçš„å›åº”ï¼Œç›¸å½“äºæ˜¯ç›¸å½“äºæ˜¯Completionæ¨¡å‹ä¸­çš„textã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨messageså‚æ•°ä¸­ï¼Œæˆ‘ä»¬æ˜¯ä¸èƒ½ç»™è‡ªå·±æˆ–è€…æ¨¡å‹è‡ªå®šä¹‰å…¶ä»–åç§°çš„ã€‚

â€ƒâ€ƒå¾ˆæ˜æ˜¾ï¼ŒåŸºäºè¿™æ ·çš„ä¸€ä¸ªå®šä¹‰çš„è§„åˆ™ï¼Œæœ€ç®€å•çš„Chatæ¨¡å‹çš„è°ƒç”¨æ–¹æ³•å°±æ˜¯åœ¨messageså‚æ•°ä¸­è®¾ç½®ä¸€æ¡roleä¸ºuserçš„å‚æ•°ï¼Œåœ¨contentä¸­è¾“å…¥èŠå¤©çš„å†…å®¹ï¼Œè€Œæ¨¡å‹åˆ™ä¼šæ ¹æ®è¿™æ¡ç”¨æˆ·è¾“å…¥ç»™æ¨¡å‹çš„æ¶ˆæ¯è¿›è¡Œå›ç­”ï¼Œç±»ä¼¼äºæ­¤å‰æˆ‘ä»¬å‘æ¨¡å‹æé—®â€œè¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿâ€è¿™ç§æé—®æ–¹å¼:

```python
response = openai.ChatCompletion.create(
    model="chatglm3-6b",
    messages=[
        {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ "}
    ]
)
```

```python
response['choices'][0]['message']["content"]
```

```plaintext
'\n æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§è®©è®¡ç®—æœºç³»ç»Ÿé€šè¿‡æ•°æ®è‡ªåŠ¨å­¦ä¹ å’Œæ”¹è¿›çš„æ–¹æ³•,ä»¥ä¾¿åœ¨ä¸è¿›è¡Œæ˜ç¡®ç¼–ç¨‹çš„æƒ…å†µä¸‹åšå‡ºé¢„æµ‹æˆ–å†³ç­–ã€‚æœºå™¨å­¦ä¹ ç®—æ³•å¯ä»¥åˆ†æå¤§é‡æ•°æ®,ä»ä¸­å‘ç°æ¨¡å¼å’Œè§„å¾‹,ç„¶ååˆ©ç”¨è¿™äº›ä¿¡æ¯è¿›è¡Œé¢„æµ‹ã€åˆ†ç±»ã€è¯†åˆ«ã€å…³è” rule æŒ–æ˜ç­‰ä»»åŠ¡ã€‚æœºå™¨å­¦ä¹ ä¸­å¸¸ç”¨çš„ç®—æ³•åŒ…æ‹¬å†³ç­–æ ‘ã€æ”¯æŒå‘é‡æœºã€ç¥ç»ç½‘ç»œã€éšæœºæ£®æ—ç­‰ã€‚æœºå™¨å­¦ä¹ çš„åº”ç”¨èŒƒå›´éå¸¸å¹¿æ³›,ä¾‹å¦‚è¯­éŸ³è¯†åˆ«ã€å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€æ¨èç³»ç»Ÿã€æ™ºèƒ½å®¢æœç­‰ã€‚'
```

ä¸è¿‡éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡ä¸€ä¸ªmessageså¯ä»¥åŒ…å«å¤šæ¡ä¿¡æ¯ï¼Œä½†æ¨¡å‹åªä¼šå¯¹äºæœ€åä¸€æ¡ç”¨æˆ·ä¿¡æ¯è¿›è¡Œå›ç­”ï¼Œä¾‹å¦‚ï¼š

```python
response = openai.ChatCompletion.create(
    model="chatglm3-6b",
    messages=[
        {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ "}, 
        {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯å†³ç­–æ ‘ç®—æ³•ï¼Ÿ"}
    ]
)
```

```python
response['choices'][0]['message']["content"]
```

```plaintext
'\n å†³ç­–æ ‘æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„æœºå™¨å­¦ä¹ ç®—æ³•,å…¶åŸºæœ¬æ€æƒ³æ˜¯å°†æ•°æ®é›†åˆ’åˆ†ä¸ºä¸åŒçš„ç±»åˆ«æˆ–è€…äº§ç”Ÿä¸åŒçš„è¾“å‡º,é€šè¿‡ä¸€ç³»åˆ—çš„é—®é¢˜æ¥å¯¹æ•°æ®è¿›è¡Œåˆ†ç±»æˆ–è€…å›å½’ã€‚åœ¨å†³ç­–æ ‘ä¸­,æ¯ä¸ªå†…éƒ¨èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªç‰¹å¾å±æ€§ä¸Šçš„åˆ¤æ–­,æ¯ä¸ªåˆ†æ”¯ä»£è¡¨ä¸€ä¸ªåˆ¤æ–­ç»“æœ,æ¯ä¸ªå¶å­èŠ‚ç‚¹ä»£è¡¨ä¸€ä¸ªåˆ†ç±»æˆ–å›å½’ç»“æœã€‚å†³ç­–æ ‘çš„æ„å»ºè¿‡ç¨‹æ˜¯é€šè¿‡é€’å½’åœ°å¯¹äºæ•°æ®é›†è¿›è¡Œåˆ†å‰²,ä¸æ–­é€‰æ‹©æœ€ä¼˜çš„åˆ’åˆ†æ–¹å¼æ¥è¿›è¡Œçš„ã€‚\n\nå†³ç­–æ ‘ç®—æ³•çš„ä¼˜ç‚¹æ˜¯æ˜“äºç†è§£å’Œå®ç°,åŒæ—¶ä¹Ÿå…·æœ‰è¾ƒé«˜çš„é¢„æµ‹å‡†ç¡®ç‡ã€‚ç„¶è€Œ,å®ƒçš„ç¼ºç‚¹åœ¨äºå®¹æ˜“å—åˆ°å™ªå£°å¹²æ‰°å’Œè¿‡æ‹Ÿåˆç°è±¡çš„å½±å“ã€‚ä¸ºäº†å…‹æœè¿™äº›é—®é¢˜,äººä»¬æå‡ºäº†è®¸å¤šæ”¹è¿›çš„å†³ç­–æ ‘ç®—æ³•,ä¾‹å¦‚é›†æˆå†³ç­–æ ‘ã€éšæœºæ£®æ—ç­‰ã€‚'
```

ä¹Ÿå°±æ˜¯è¯´ï¼Œassistantæ¶ˆæ¯å’Œroleæ¶ˆæ¯æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œè€Œä¸”åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œassistantæ¶ˆæ¯åªä¼šå›´ç»•messageså‚æ•°ä¸­çš„æœ€åä¸€ä¸ªroleä¿¡æ¯è¿›è¡Œå›ç­”ã€‚

* system roleç”¨äºèº«ä»½è®¾å®š

â€ƒâ€ƒä¸è¿‡ï¼Œå€¼å¾—ä¸€æçš„æ˜¯ï¼Œuserå’Œassistantçš„è¿™ç§æé—®æ–¹å¼å°½ç®¡è¶³å¤Ÿæ¸…æ™°ï¼Œä½†å¾€å¾€å½¢å¼ä¸Šä¸å¤Ÿä¸°å¯Œï¼Œä¾‹å¦‚åœ¨å®è·µä¸­äººä»¬å‘ç°ï¼Œç»™èŠå¤©æœºå™¨äººè¿›è¡Œä¸€ä¸ªèº«ä»½è®¾ç½®ï¼Œå…¶å®æ˜¯éå¸¸æœ‰æ•ˆçš„å¼•å¯¼æ¨¡å‹åˆ›ä½œæˆ‘ä»¬æƒ³è¦çš„ç»“æœçš„æ–¹æ³•ï¼Œä¾‹å¦‚å¦‚æœæˆ‘ä»¬å¸Œæœ›è·å¾—ä¸€ä¸ªå…³äºâ€œä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿâ€æ›´åŠ ä¸¥è°¨ä¸”ä¸°å¯Œçš„ç­”æ¡ˆï¼Œæˆ‘ä»¬å¯ä»¥ä»¥â€œå‡è®¾ä½ æ˜¯ä¸€åèµ„æ·±çš„è®¡ç®—æœºç³»å¤§å­¦æ•™æˆâ€ä¸ºæ¨¡å‹è¿›è¡Œèº«ä»½è®¾ç½®ï¼Œä¾‹å¦‚æˆ‘ä»¬å¯ä»¥ä»¥å¦‚ä¸‹æ–¹å¼å‘æ¨¡å‹è¿›è¡Œæé—®ï¼š

```python
response = openai.ChatCompletion.create(
    model="chatglm3-6b",
    messages=[
        {"role": "user", "content": "å‡è®¾ä½ æ˜¯ä¸€åèµ„æ·±çš„å¤§å­¦æ•™æˆï¼Œè¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ç®—æ³•ï¼Ÿ"}, 
    ]
)
```

```python
response['choices'][0]['message']["content"]
```

```plaintext
'\n æœºå™¨å­¦ä¹ æ˜¯äººå·¥æ™ºèƒ½çš„ä¸€ä¸ªåˆ†æ”¯,æ—¨åœ¨ä½¿è®¡ç®—æœºç¨‹åºä»æ•°æ®ä¸­å­¦ä¹ å¹¶æ”¹è¿›å…¶æ€§èƒ½,è€Œä¸éœ€è¦æ˜¾å¼åœ°ç¼–ç¨‹æŒ‡ä»¤ã€‚åœ¨æœºå™¨å­¦ä¹ ä¸­,è®¡ç®—æœºç¨‹åºå¯ä»¥è‡ªåŠ¨å‘ç°æ•°æ®ä¸­çš„æ¨¡å¼å’Œè§„å¾‹,å¹¶é€šè¿‡è¿™äº›ä¿¡æ¯è¿›è¡Œé¢„æµ‹å’Œå†³ç­–ã€‚æœºå™¨å­¦ä¹ çš„åº”ç”¨éå¸¸å¹¿æ³›,åŒ…æ‹¬å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€æ™ºèƒ½æ¨èã€è‡ªåŠ¨é©¾é©¶ç­‰ã€‚'
```

ä¸éš¾çœ‹å‡ºï¼Œæ­¤æ—¶æ¨¡å‹çš„å›ç­”å°±å˜å¾—æ›´åŠ è¯¦ç»†å’Œä¸¥è°¨ï¼Œæ›´åƒä¸€åâ€œå¤§å­¦æ•™æˆâ€çš„è¯­æ°”é£æ ¼ï¼Œä¹ŸåŒæ—¶è¯´æ˜æˆ‘ä»¬å¯¹æ¨¡å‹è¿›è¡Œçš„èº«ä»½è®¾å®šæ˜¯åˆ‡å®æœ‰æ•ˆçš„ã€‚

â€ƒâ€ƒè€Œåœ¨ChatCompletion.createå‡½æ•°ä¸­ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§éå¸¸ä¾¿æ·çš„å¯¹æ¨¡å‹è¿›è¡Œèº«ä»½è®¾ç½®çš„æ–¹æ³•ï¼Œå³ä½¿ç”¨system roleï¼Œå³æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ä¸ºæ¨¡å‹è¿›è¡Œâ€œå¤§å­¦æ•™æˆâ€èº«ä»½è®¾å®šï¼š

```python
response = openai.ChatCompletion.create(
    model="chatglm3-6b",
    messages=[
        {"role": "system", "content": "å‡è®¾ä½ æ˜¯ä¸€åèµ„æ·±çš„å¤§å­¦æ•™æˆã€‚"}, 
        {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ç®—æ³•ï¼Ÿ"}
    ]
)
```

```python
response['choices'][0]['message']["content"]
```

```plaintext
'\n ä½œä¸ºä¸€ä½æœºå™¨å­¦ä¹ é¢†åŸŸçš„æ•™æˆï¼Œæˆ‘å¯ä»¥å‘æ‚¨è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ç®—æ³•ã€‚\n\næœºå™¨å­¦ä¹ ç®—æ³•æ˜¯ä¸€ç§è®©è®¡ç®—æœºè‡ªåŠ¨ä»æ•°æ®ä¸­å­¦ä¹ å’Œæå–æ¨¡å¼ã€è§„å¾‹æˆ–ç‰¹å¾çš„ç®—æ³•ï¼Œç„¶ååˆ©ç”¨è¿™äº›å­¦åˆ°çš„çŸ¥è¯†æ¥è¿›è¡Œé¢„æµ‹ã€åˆ†ç±»æˆ–è€…å†³ç­–ç­‰ä»»åŠ¡çš„æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•ä½¿å¾—è®¡ç®—æœºèƒ½å¤Ÿåœ¨æ²¡æœ‰æ˜ç¡®ç¼–ç¨‹çš„æƒ…å†µä¸‹è¿›è¡Œå­¦ä¹ ï¼Œå¹¶ä¸”ä¸æ–­æé«˜å…¶æ€§èƒ½ã€‚\n\næœºå™¨å­¦ä¹ ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡å¯¹å¤§é‡æ•°æ®è¿›è¡Œè®­ç»ƒæ¥å‘ç°æ•°æ®èƒŒåçš„æ¨¡å¼å’Œè§„å¾‹ï¼Œä»è€Œå»ºç«‹èµ·ä¸€ä¸ªèƒ½å¤Ÿå¯¹æœªçŸ¥æ•°æ®è¿›è¡Œé¢„æµ‹å’Œåˆ†ç±»çš„æ¨¡å‹ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•ä¼šä¸æ–­è°ƒæ•´å…¶å‚æ•°ï¼Œä»¥æœ€å°åŒ–é¢„æµ‹ç»“æœä¸å®é™…ç»“æœä¹‹é—´çš„è¯¯å·®ã€‚\n\nå¸¸è§çš„æœºå™¨å­¦ä¹ ç®—æ³•åŒ…æ‹¬çº¿æ€§å›å½’ã€é€»è¾‘å›å½’ã€æ”¯æŒå‘é‡æœºã€å†³ç­–æ ‘ã€éšæœºæ£®æ—ã€ç¥ç»ç½‘ç»œç­‰ã€‚è¿™äº›ç®—æ³•å¯ä»¥åº”ç”¨äºå„ç§é¢†åŸŸï¼Œå¦‚å›¾åƒè¯†åˆ«ã€è¯­éŸ³è¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€æ¨èç³»ç»Ÿç­‰ã€‚'
```

â€ƒâ€ƒèƒ½å¤Ÿçœ‹å‡ºï¼Œè¿™é‡Œæˆ‘ä»¬åœ¨åŸæœ‰æ¶ˆæ¯ä¹‹å‰ï¼Œæ–°å¢ä¸€æ¡æ¶ˆæ¯{"role": "system", "content": "ä½ æ˜¯ä¸€åèµ„æ·±çš„è®¡ç®—æœºç³»å¤§å­¦æ•™æˆ"}ï¼Œä¹Ÿèƒ½èµ·åˆ°è®¾å®šæ¨¡å‹èº«ä»½çš„ä½œç”¨ã€‚è€Œè¿™æ¡æ¶ˆæ¯çš„å®é™…å«ä¹‰æ˜¯ï¼Œä»¥systemçš„èº«ä»½å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œæ¶ˆæ¯å†…å®¹ä¸ºâ€œä½ æ˜¯ä¸€åèµ„æ·±çš„è®¡ç®—æœºç³»å¤§å­¦æ•™æˆâ€ã€‚è¿™é‡Œçš„systemå°±æ˜¯messageså‚æ•°çš„roleå¯ä»¥é€‰å–çš„ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²ï¼Œæ„ä¸ºè¯¥æ¶ˆæ¯ä¸ºä¸€æ¡ç³»ç»Ÿæ¶ˆæ¯ã€‚ç›¸æ¯”ç”¨æˆ·æ¶ˆæ¯ï¼Œç³»ç»Ÿæ¶ˆæ¯æœ‰ä»¥ä¸‹å‡ ç‚¹éœ€è¦æ³¨æ„ï¼Œå…¶ä¸€æ˜¯ç³»ç»Ÿæ¶ˆæ¯çš„å®é™…ä½œç”¨æ˜¯ç»™æ•´ä¸ªå¯¹è¯ç³»ç»Ÿè¿›è¡ŒèƒŒæ™¯è®¾ç½®ï¼Œä¸åŒçš„èƒŒæ™¯è®¾ç½®ä¼šæå¤§ç¨‹åº¦å½±å“åç»­å¯¹è¯è¿‡ç¨‹ä¸­æ¨¡å‹çš„è¾“å‡ºç»“æœï¼Œä¾‹å¦‚å¦‚æœç³»ç»Ÿè®¾ç½®ä¸ºâ€œä½ æ˜¯ä¸€ä½èµ„æ·±åŒ»å­¦ä¸“å®¶â€ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ç³»ç»Ÿåœ¨è¿›è¡Œå›ç­”åŒ»å­¦é¢†åŸŸç›¸å…³é—®é¢˜æ—¶åˆ™ä¼šå¼•ç”¨å¤§é‡åŒ»å­¦æœ¯è¯­ï¼Œè€Œå¦‚æœç³»ç»Ÿè®¾ç½®ä¸ºâ€œä½ æ˜¯ä¸€ä½èµ„æ·±å–œå‰§æ¼”å‘˜â€ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥ç³»ç»Ÿè¿›è¡Œçš„å›ç­”åˆ™ä¼šæ›´åŠ é£è¶£å¹½é»˜ï¼š

```python
response = openai.ChatCompletion.create(
    model="chatglm3-6b",
    messages=[
        {"role": "system", "content": "å‡è®¾ä½ æ˜¯ä¸€åèµ„æ·±çš„å–œå‰§æ¼”å‘˜"}, 
        {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ç®—æ³•ï¼Ÿ"}, 
    ]
)
```

```python
response['choices'][0]['message']["content"]
```

```plaintext
'\n ä½œä¸ºä¸€ä½èµ„æ·±çš„å–œå‰§æ¼”å‘˜ï¼Œæˆ‘å¯ä»¥å‘Šè¯‰ä½ ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•æ˜¯ä¸€ä¸ªç”¨äºè®©è®¡ç®—æœºè‡ªåŠ¨ä»æ•°æ®ä¸­å­¦ä¹ è§„å¾‹å’Œæ¨¡å¼ï¼Œå¹¶æ®æ­¤åšå‡ºé¢„æµ‹æˆ–è€…å†³ç­–çš„æŠ€æœ¯ã€‚ç®€å•æ¥è¯´ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•å°±æ˜¯è®©è®¡ç®—æœºå…·å¤‡â€œå­¦ä¹ â€çš„èƒ½åŠ›ï¼Œé€šè¿‡åˆ†æå¤§é‡çš„æ•°æ®ï¼Œè®©è®¡ç®—æœºè‡ªå·±å‘ç°å…¶ä¸­çš„è§„å¾‹å’Œæ¨¡å¼ï¼Œä»è€Œèƒ½å¤Ÿæ›´å¥½åœ°å®Œæˆå„ç§ä»»åŠ¡ã€‚\n\nåœ¨å–œå‰§è¡¨æ¼”ä¸­ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿ç”¨ç±»ä¼¼çš„æ€æƒ³ï¼Œé€šè¿‡è§‚å¯Ÿè§‚ä¼—çš„ååº”å’Œæ•°æ®åˆ†ææ¼”å‡ºæ•ˆæœï¼Œä¸æ–­è°ƒæ•´å’Œæ”¹è¿›æˆ‘ä»¬çš„è¡¨æ¼”ï¼Œä»¥è¾¾åˆ°æ›´å¥½çš„å–œå‰§æ•ˆæœã€‚å› æ­¤ï¼Œæœºå™¨å­¦ä¹ ç®—æ³•åœ¨è®¸å¤šé¢†åŸŸéƒ½æœ‰ç€å¹¿æ³›çš„åº”ç”¨ï¼ŒåŒ…æ‹¬è¯­éŸ³è¯†åˆ«ã€å›¾åƒè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰ã€‚'
```

* å¯¹æ¯”GPT-3.5èº«ä»½è®¾å®šæ•ˆæœ

```python
response = openai.ChatCompletion.create(
  model="gpt-3.5-turbo",
  messages=[
    {"role": "system", "content": "ä½ æ˜¯ä¸€åèµ„æ·±çš„å–œå‰§æ¼”å‘˜"},
    {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿ"}
  ]
)
```

```python
response.choices[0].message['content']
```

```plaintext
'å“ˆå“ˆï¼Œè¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§äººå·¥æ™ºèƒ½çš„åˆ†æ”¯ï¼Œå®ƒé€šè¿‡è®©è®¡ç®—æœºç³»ç»Ÿè‡ªåŠ¨å­¦ä¹ å’Œæ”¹è¿›ï¼Œè€Œæ— éœ€æ˜ç¡®çš„ç¼–ç¨‹æŒ‡ä»¤ã€‚ç®€å•æ¥è¯´ï¼Œæœºå™¨å­¦ä¹ æ˜¯è®©æœºå™¨å…·å¤‡ä»æ•°æ®ä¸­å­¦ä¹ å’Œé¢„æµ‹çš„èƒ½åŠ›ã€‚å°±åƒæˆ‘åœ¨å–œå‰§è¡¨æ¼”ä¸­å­¦ä¹ å’Œæ”¹è¿›æˆ‘çš„æŠ€å·§ä¸€æ ·ï¼Œæœºå™¨å­¦ä¹ é€šè¿‡åˆ†æå¤§é‡çš„æ•°æ®ï¼Œæ‰¾åˆ°æ¨¡å¼å’Œè§„å¾‹ï¼Œä»è€Œä½¿æœºå™¨èƒ½å¤Ÿåšå‡ºæ™ºèƒ½çš„å†³ç­–å’Œé¢„æµ‹ã€‚ä¸è¿‡ç›¸æ¯”æˆ‘ï¼Œæœºå™¨å­¦ä¹ æ›´åŠ å‡†ç¡®å’Œé«˜æ•ˆï¼è¯ä¸å¤šè¯´ï¼Œè®©æˆ‘ä»¬ç»§ç»­æˆ‘çš„å–œå‰§è¡¨æ¼”å§ï¼'
```

â€ƒâ€ƒå¦å¤–éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦æ ¹æ®systemç³»ç»Ÿä¿¡æ¯å¯¹ç³»ç»Ÿè¿›è¡Œè®¾ç½®ï¼Œç„¶åå†æé—®ï¼Œé‚£ä¹ˆå…ˆsystemæ¶ˆæ¯å†useræ¶ˆæ¯çš„é¡ºåºå°±å˜å¾—éå¸¸é‡è¦ï¼Œä¾‹å¦‚è¿˜æ˜¯ä¸Šé¢çš„ä¾‹å­ï¼Œè¿˜æ˜¯å¸Œæœ›ä»¥å–œå‰§æ¼”å‘˜çš„èº«ä»½ä»‹ç»æœºå™¨å­¦ä¹ ï¼Œä½†æˆ‘ä»¬è°ƒæ¢äº†systemæ¶ˆæ¯å’Œuseræ¶ˆæ¯çš„é¡ºåºï¼Œé‚£ä¹ˆä¼šå‘ç°ï¼Œsystemæ¶ˆæ¯çš„ä½œç”¨å°±ä¼šå¤±æ•ˆï¼š

```python
response = openai.ChatCompletion.create(
    model="chatglm3-6b",
    messages=[
        {"role": "user", "content": "è¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ç®—æ³•ï¼Ÿ"}, 
        {"role": "system", "content": "å‡è®¾ä½ æ˜¯ä¸€åèµ„æ·±çš„å–œå‰§æ¼”å‘˜"},
    ]
)
```

```python
response['choices'][0]['message']["content"]
```

```plaintext
'\n æœºå™¨å­¦ä¹ æ˜¯ä¸€ç§äººå·¥æ™ºèƒ½çš„åˆ†æ”¯ï¼Œå®ƒè®©è®¡ç®—æœºé€šè¿‡å¯¹å¤§é‡æ•°æ®è¿›è¡Œå­¦ä¹ å’Œåˆ†æï¼Œè‡ªåŠ¨è¯†åˆ«æ¨¡å¼å¹¶åšå‡ºé¢„æµ‹æˆ–å†³ç­–ã€‚æœºå™¨å­¦ä¹ ç®—æ³•æ˜¯ç”¨æ¥è®­ç»ƒæ¨¡å‹çš„è½¯ä»¶ç¨‹åºï¼Œå®ƒä»¬å¯ä»¥ä»æ•°æ®ä¸­æå–çŸ¥è¯†ï¼Œå¹¶å¯¹æ–°çš„ã€æœªè§è¿‡çš„æ•°æ®è¿›è¡Œåˆ†ç±»ã€é¢„æµ‹æˆ–ç”Ÿæˆã€‚æœºå™¨å­¦ä¹ ç®—æ³•çš„ç›®æ ‡æ˜¯ä½¿è®¡ç®—æœºèƒ½å¤Ÿåƒäººç±»ä¸€æ ·å­¦ä¹ ï¼Œå¹¶åœ¨å„ç§æƒ…å¢ƒä¸‹åšå‡ºæ­£ç¡®çš„åˆ¤æ–­å’Œå†³ç­–ã€‚å¸¸è§çš„æœºå™¨å­¦ä¹ ç®—æ³•åŒ…æ‹¬çº¿æ€§å›å½’ã€é€»è¾‘å›å½’ã€æ”¯æŒå‘é‡æœºã€å†³ç­–æ ‘ã€éšæœºæ£®æ—ã€ç¥ç»ç½‘ç»œç­‰ã€‚'
```

æ­¤æ—¶ä¼šå‘ç°ï¼Œæ¨¡å‹è¿˜æ˜¯èƒ½è§£ç­”â€œè¯·é—®ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ï¼Ÿâ€è¿™ä¸ªé—®é¢˜ï¼Œä½†å´æ²¡æœ‰æ­£ç¡®æ¥å—â€œä½ æ˜¯ä¸€åèµ„æ·±å–œå‰§æ¼”å‘˜â€è¿™ä¸ªè®¾å®šã€‚

â€ƒâ€ƒæœ€åè¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ ¹æ®OpenAIå®˜ç½‘è¯´æ˜ï¼Œæˆªè‡³ç›®å‰ï¼Œgpt-3.5ç³»åˆ—æ¨¡å‹ä»ç„¶æ— æ³•å¯¹systemæä¾›çš„ç³»ç»Ÿæ¶ˆæ¯ä¿æŒé•¿æœŸå…³æ³¨ï¼Œå³åœ¨å¤šè½®å¯¹è¯ä¸­ï¼Œæ¨¡å‹ææœ‰å¯èƒ½é€æ¸å¿˜è®°è‡ªå·±çš„èº«ä»½è®¾å®šã€‚æ ¹æ®é•¿æœŸä½¿ç”¨æƒ…å†µæ¥çœ‹ï¼Œgpt-4æ¨¡å‹å¯¹systemè®¾ç½®çš„é•¿æœŸå…³æ³¨è¦å¥½äºgpt-3.5ç³»åˆ—æ¨¡å‹ã€‚

â€ƒâ€ƒå¯¹äºmessagesä¸­å¯é€‰çš„roleæ¥è¯´ï¼Œé™¤äº†ueserã€assistantã€systemä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªfunction roleï¼Œè¯¥éƒ¨åˆ†åŠŸèƒ½æˆ‘ä»¬å°†åœ¨ä¸‹ä¸€éƒ¨åˆ†å…¬å¼€è¯¾ä¸­è¿›è¡Œä»‹ç»ã€‚

### 2.ChatGLM3æ¨ç†èƒ½åŠ›ç®€å•æµ‹è¯•

#### 2.1 GPT3ã€GPT-3.5ã€GPT-4ã€ChatGLM3æ¨¡å‹è°ƒç”¨è¿‡ç¨‹

* GPT-3æ¨¡å‹è°ƒç”¨ï¼šé‡‡ç”¨text-davinci-003

```python
response_gpt3 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt='ä½ å¥½',
                    max_tokens=1000,
                    )
```

```python
response_gpt3["choices"][0]["text"].strip()
```

```plaintext
'ä½ å¥½ï¼'
```

* GPT-3.5æ¨¡å‹è°ƒç”¨ï¼šé‡‡ç”¨gpt-3.5-turbo-0613

```python
response_gpt35 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": "ä½ å¥½"}
                      ]
                    )
```

```python
response_gpt35.choices[0].message['content']
```

```plaintext
'ä½ å¥½ï¼æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©ä½ çš„å—ï¼Ÿ'
```

* GPT-4æ¨¡å‹è°ƒç”¨ï¼šé‡‡ç”¨GPT-4-0613æ¨¡å‹

```python
response_gpt4 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": "ä½ å¥½"}
                      ]
                    )
```

```python
response_gpt4.choices[0].message['content']
```

```plaintext
'ä½ å¥½ï¼æœ‰ä»€ä¹ˆå¯ä»¥å¸®åŠ©æ‚¨çš„å—ï¼Ÿ'
```

* ChatGLM3æ¨¡å‹è°ƒç”¨ï¼šé‡‡ç”¨ChatGLM3-6Bæ¨¡å‹

```python
response_glm3 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": "ä½ å¥½"}
                      ]
                    )
```

```python
response_glm3['choices'][0]['message']["content"]
```

```plaintext
'\n ä½ å¥½ğŸ‘‹ï¼æˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹ ChatGLM3-6Bï¼Œå¾ˆé«˜å…´è§åˆ°ä½ ï¼Œæ¬¢è¿é—®æˆ‘ä»»ä½•é—®é¢˜ã€‚'
```

#### 2.2 æ¨ç†æµ‹è¯•é¢˜ä»‹ç»

* æ¨ç†é¢˜1ï¼Œé€‰è‡ª[ã€ŠLanguage Models are Few-Shot Learners](https://arxiv.org/pdf/2005.14165.pdf)
  [ã€‹](https://arxiv.org/pdf/2005.14165.pdf)

```python
# ç­”æ¡ˆä¸º5+3*2=11ä¸ªç½‘çƒ
question1 = 'ç½—æ°æœ‰äº”ä¸ªç½‘çƒï¼Œä»–åˆä¹°äº†ä¸¤ç›’ç½‘çƒï¼Œæ¯ç›’æœ‰3ä¸ªç½‘çƒï¼Œè¯·é—®ä»–ç°åœ¨æ€»å…±æœ‰å¤šå°‘ä¸ªç½‘çƒï¼Ÿ'
question1
```

```plaintext
'ç½—æ°æœ‰äº”ä¸ªç½‘çƒï¼Œä»–åˆä¹°äº†ä¸¤ç›’ç½‘çƒï¼Œæ¯ç›’æœ‰3ä¸ªç½‘çƒï¼Œè¯·é—®ä»–ç°åœ¨æ€»å…±æœ‰å¤šå°‘ä¸ªç½‘çƒï¼Ÿ'
```

æ¨ç†é¢˜1ï¼šç­”å¯¹+1åˆ†ï¼Œç­”é”™-4åˆ†ã€‚

* æ¨ç†é¢˜2ï¼Œé€‰è‡ª[ã€ŠLarge Language Models are Zero-Shot Reasonersã€‹](https://arxiv.org/pdf/2205.11916v2.pdf)

```python
# ç­”æ¡ˆä¸º23-20+6=9ä¸ªè‹¹æœ
question2 = 'é£Ÿå ‚æ€»å…±æœ‰23ä¸ªè‹¹æœï¼Œå¦‚æœä»–ä»¬ç”¨æ‰20ä¸ªè‹¹æœï¼Œç„¶ååˆä¹°äº†6ä¸ªè‹¹æœï¼Œè¯·é—®ç°åœ¨é£Ÿå ‚æ€»å…±æœ‰å¤šå°‘ä¸ªè‹¹æœï¼Ÿ'
question2
```

```plaintext
'é£Ÿå ‚æ€»å…±æœ‰23ä¸ªè‹¹æœï¼Œå¦‚æœä»–ä»¬ç”¨æ‰20ä¸ªè‹¹æœï¼Œç„¶ååˆä¹°äº†6ä¸ªè‹¹æœï¼Œè¯·é—®ç°åœ¨é£Ÿå ‚æ€»å…±æœ‰å¤šå°‘ä¸ªè‹¹æœï¼Ÿ'
```

æ¨ç†é¢˜2ï¼šç­”å¯¹+2åˆ†ï¼Œç­”é”™-3åˆ†ã€‚

* æ¨ç†é¢˜3ï¼Œé€‰è‡ª[ã€ŠChain-of-Thought Prompting Elicits Reasoning in Large Language Modelsã€‹](https://arxiv.org/pdf/2201.11903.pdf)

```python
# ç­”æ¡ˆä¸º16/2/2=4ä¸ªè“è‰²é«˜å°”å¤«çƒ
question3 = 'æ‚è€è€…å¯ä»¥æ‚è€16ä¸ªçƒã€‚å…¶ä¸­ä¸€åŠçš„çƒæ˜¯é«˜å°”å¤«çƒï¼Œå…¶ä¸­ä¸€åŠçš„é«˜å°”å¤«çƒæ˜¯è“è‰²çš„ã€‚è¯·é—®æ€»å…±æœ‰å¤šå°‘ä¸ªè“è‰²é«˜å°”å¤«çƒï¼Ÿ'
question3
```

```plaintext
'æ‚è€è€…å¯ä»¥æ‚è€16ä¸ªçƒã€‚å…¶ä¸­ä¸€åŠçš„çƒæ˜¯é«˜å°”å¤«çƒï¼Œå…¶ä¸­ä¸€åŠçš„é«˜å°”å¤«çƒæ˜¯è“è‰²çš„ã€‚è¯·é—®æ€»å…±æœ‰å¤šå°‘ä¸ªè“è‰²é«˜å°”å¤«çƒï¼Ÿ'
```

æ¨ç†é¢˜3ï¼šç­”å¯¹+3åˆ†ï¼Œç­”é”™-2åˆ†ã€‚

* æ¨ç†é¢˜4ï¼Œé€‰è‡ª[ã€ŠLEAST-TO-MOST PROMPTING ENABLES COMPLEX REASONING IN LARGE LANGUAGE MODELSã€‹](https://arxiv.org/pdf/2205.10625.pdf)

```python
# ç­”æ¡ˆä¸º15/ï¼ˆ1+4ï¼‰=3æ¬¡
question4 = 'è‰¾ç±³éœ€è¦4åˆ†é’Ÿæ‰èƒ½çˆ¬åˆ°æ»‘æ¢¯é¡¶éƒ¨ï¼Œå¥¹èŠ±äº†1åˆ†é’Ÿæ‰æ»‘ä¸‹æ¥ï¼Œæ°´æ»‘æ¢¯å°†åœ¨15åˆ†é’Ÿåå…³é—­ï¼Œè¯·é—®åœ¨å…³é—­ä¹‹å‰å¥¹èƒ½æ»‘å¤šå°‘æ¬¡ï¼Ÿ'
question4
```

```plaintext
'è‰¾ç±³éœ€è¦4åˆ†é’Ÿæ‰èƒ½çˆ¬åˆ°æ»‘æ¢¯é¡¶éƒ¨ï¼Œå¥¹èŠ±äº†1åˆ†é’Ÿæ‰æ»‘ä¸‹æ¥ï¼Œæ°´æ»‘æ¢¯å°†åœ¨15åˆ†é’Ÿåå…³é—­ï¼Œè¯·é—®åœ¨å…³é—­ä¹‹å‰å¥¹èƒ½æ»‘å¤šå°‘æ¬¡ï¼Ÿ'
```

æ¨ç†é¢˜4ï¼šç­”å¯¹+4åˆ†ï¼Œç­”é”™-1åˆ†ã€‚

â€ƒâ€ƒæœ€ç»ˆæ€»å¾—åˆ†åŒºé—´åœ¨-10åˆ†åˆ°10åˆ†ä¹‹é—´ã€‚

#### 2.3 å„æ¨¡å‹è¡¨ç°

##### 2.3.1 Zero-shotä¸‹å„æ¨¡å‹è¡¨ç°

* GPT-3æ¨¡å‹è¡¨ç°

```python
response_gpt3_q1 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt=question1,
                    max_tokens=1000,
                    )
```

```python
# ç­”æ¡ˆä¸º11ä¸ªçƒ
response_gpt3_q1["choices"][0]["text"].strip()
```

```plaintext
'ç½—æ°æ€»å…±æœ‰11ä¸ªç½‘çƒã€‚'
```

```python
score_gpt3 = 1
score_gpt3
```

```plaintext
1
```

```python
response_gpt3_q2 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt=question2,
                    max_tokens=1000,
                    )
```

```python
# ç­”æ¡ˆä¸º9ä¸ªè‹¹æœ
response_gpt3_q2["choices"][0]["text"].strip()
```

```plaintext
'ç°åœ¨é£Ÿå ‚æ€»å…±æœ‰23+6=29ä¸ªè‹¹æœã€‚'
```

```python
score_gpt3 -= 3
score_gpt3
```

```plaintext
-2
```

```python
response_gpt3_q3 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt=question3,
                    max_tokens=1000,
                    )
```

```python
# ç­”æ¡ˆä¸º4ä¸ªè“è‰²é«˜å°”å¤«çƒ
response_gpt3_q3["choices"][0]["text"].strip()
```

```plaintext
'æ€»å…±æœ‰8ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚'
```

```python
score_gpt3 -= 2
score_gpt3
```

```plaintext
-4
```

```python
response_gpt3_q4 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt=question4,
                    max_tokens=1000,
                    )
```

```python
# ç­”æ¡ˆä¸ºèƒ½æ»‘ä¸‰æ¬¡
response_gpt3_q4["choices"][0]["text"].strip()
```

```plaintext
'å¥¹èƒ½æ»‘3æ¬¡ã€‚'
```

```python
score_gpt3 += 4
score_gpt3
```

```plaintext
0
```

* GPT-3.5æ¨¡å‹è¡¨ç°

```python
response_gpt35_q1 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": question1}
                      ]
                    )
```

```python
response_gpt35_q1.choices[0].message['content']
```

```plaintext
'ç½—æ°åŸæœ¬æœ‰5ä¸ªç½‘çƒï¼Œåˆä¹°äº†ä¸¤ç›’ï¼Œæ¯ç›’æœ‰3ä¸ªç½‘çƒï¼Œæ‰€ä»¥ä»–ä¸€å…±ä¹°äº† 2 ç›’ * 3 ä¸ª/ç›’ = 6ä¸ªç½‘çƒã€‚\næ‰€ä»¥ç½—æ°ç°åœ¨æ€»å…±æœ‰ 5ä¸ªç½‘çƒ + 6ä¸ªç½‘çƒ = 11ä¸ªç½‘çƒã€‚'
```

```python
score_gpt35 = 1
```

```python
response_gpt35_q2 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": question2}
                      ]
                    )
```

```python
response_gpt35_q2.choices[0].message['content']
```

```plaintext
'é£Ÿå ‚æœ€åˆæœ‰23ä¸ªè‹¹æœï¼Œç”¨æ‰20ä¸ªåå‰©ä¸‹23-20=<<23-20=3>>3ä¸ªè‹¹æœã€‚\nç„¶åä»–ä»¬åˆä¹°äº†6ä¸ªè‹¹æœï¼Œç°åœ¨å…±æœ‰3+6=<<3+6=9>>9ä¸ªè‹¹æœã€‚'
```

```python
score_gpt35 += 2
score_gpt35
```

```plaintext
3
```

```python
response_gpt35_q3 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": question3}
                      ]
                    )
```

```python
response_gpt35_q3.choices[0].message['content']
```

```plaintext
'æ ¹æ®é¢˜ç›®æè¿°ï¼Œæ‚è€è€…å¯ä»¥æ‚è€16ä¸ªçƒï¼Œå…¶ä¸­ä¸€åŠçš„çƒæ˜¯é«˜å°”å¤«çƒï¼Œä¹Ÿå°±æ˜¯8ä¸ªçƒæ˜¯é«˜å°”å¤«çƒã€‚\nåˆé¢˜ç›®ç»™å‡ºä¸€åŠçš„é«˜å°”å¤«çƒæ˜¯è“è‰²çš„ï¼Œä¹Ÿå°±æ˜¯ä¸€åŠçš„8ä¸ªé«˜å°”å¤«çƒæ˜¯è“è‰²çš„ã€‚\næ‰€ä»¥æ€»å…±æœ‰8ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚'
```

```python
score_gpt35 -= 2
score_gpt35
```

```plaintext
1
```

```python
response_gpt35_q4 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": question4}
                      ]
                    )
```

```python
response_gpt35_q4.choices[0].message['content']
```

```plaintext
'åœ¨å…³é—­ä¹‹å‰ï¼Œè‰¾ç±³èƒ½æ»‘æ¢¯çš„æ¬¡æ•°ä¸ºï¼ˆ15-1ï¼‰/ï¼ˆ4+1ï¼‰= 14/5 = 2.8æ¬¡ã€‚\n\nç”±äºæ»‘æ¢¯çš„æ¬¡æ•°å¿…é¡»æ˜¯æ•´æ•°ï¼Œæ‰€ä»¥å¥¹æœ€å¤šèƒ½æ»‘æ¢¯çš„æ¬¡æ•°ä¸º2æ¬¡ã€‚'
```

```python
score_gpt35 -= 1
score_gpt35
```

```plaintext
0
```

* GPT-4æ¨¡å‹è¡¨ç°

```python
response_gpt4_q1 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": question1}
                      ]
                    )
```

```python
response_gpt4_q1.choices[0].message['content']
```

```plaintext
'ç½—æ°ç°åœ¨æ€»å…±æœ‰5+2*3=11ä¸ªç½‘çƒã€‚'
```

```python
score_gpt4 = 1
```

```python
response_gpt4_q2 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": question2}
                      ]
                    )
```

```python
response_gpt4_q2.choices[0].message['content']
```

```plaintext
'é£Ÿå ‚ç°åœ¨æ€»å…±æœ‰9ä¸ªè‹¹æœã€‚'
```

```python
score_gpt4 += 2
score_gpt4
```

```plaintext
3
```

```python
response_gpt4_q3 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": question3}
                      ]
                    )
```

```python
response_gpt4_q3.choices[0].message['content']
```

```plaintext
'æ€»å…±æœ‰4ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚'
```

```python
score_gpt4 += 3
score_gpt4
```

```plaintext
6
```

```python
response_gpt4_q4 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": question4}
                      ]
                    )
```

```python
response_gpt4_q4.choices[0].message['content']
```

```plaintext
'å¥¹æ¯æ¬¡çˆ¬ä¸Šå»å¹¶æ»‘ä¸‹æ¥çš„æ€»æ—¶é—´æ˜¯4åˆ†é’Ÿ+1åˆ†é’Ÿ=5åˆ†é’Ÿã€‚æ‰€ä»¥ï¼Œåœ¨æ»‘æ¢¯å…³é—­ä¹‹å‰ï¼Œå¥¹å¯ä»¥æ»‘15åˆ†é’Ÿ Ã· 5åˆ†é’Ÿ=3æ¬¡ã€‚'
```

```python
score_gpt4 += 4
score_gpt4
```

```plaintext
10
```

* ChatGLM3æ¨¡å‹è¡¨ç°

```python
response_glm3_q1 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": question1}
                      ]
                    )
```

```python
response_glm3_q1.choices[0].message['content']
```

```plaintext
'\n ä»–åŸæ¥æœ‰5ä¸ªç½‘çƒï¼Œå†ä¹°2ç›’ï¼Œæ¯ç›’3ä¸ªï¼Œæ‰€ä»¥ä»–ä¸€å…±å¢åŠ äº†10ä¸ªç½‘çƒã€‚é‚£ä¹ˆä»–ç°åœ¨çš„æ€»å…±æœ‰ï¼š5+10=15ä¸ªç½‘çƒã€‚'
```

```python
score_glm3 = -4
score_glm3
```

```plaintext
-4
```

```python
response_glm3_q2 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": question2}
                      ]
                    )
```

```python
response_glm3_q2.choices[0].message['content']
```

```plaintext
'\n å¦‚æœé£Ÿå ‚æ€»å…±æœ‰23ä¸ªè‹¹æœ,ç”¨æ‰äº†20ä¸ªè‹¹æœ,é‚£ä¹ˆç°åœ¨é£Ÿå ‚é‡Œå‰©ä¸‹çš„è‹¹æœæ•°é‡æ˜¯:\n\n23 - 20 = 3ä¸ªè‹¹æœ\n\næ¥ç€,é£Ÿå ‚åˆä¹°äº†6ä¸ªè‹¹æœ,å› æ­¤ç°åœ¨é£Ÿå ‚æ€»å…±æœ‰:\n\n3 + 6 = 9ä¸ªè‹¹æœ\n\næ‰€ä»¥,ç°åœ¨é£Ÿå ‚æ€»å…±æœ‰9ä¸ªè‹¹æœã€‚'
```

```python
score_glm3 += 2
score_glm3
```

```plaintext
-2
```

```python
response_glm3_q3 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": question3}
                      ]
                    )
```

```python
response_glm3_q3.choices[0].message['content']
```

```plaintext
'\n æ‚è€è€…å¯ä»¥æ‚è€16ä¸ªçƒ,å…¶ä¸­ä¸€åŠæ˜¯é«˜å°”å¤«çƒ,ä¹Ÿå°±æ˜¯8ä¸ªé«˜å°”å¤«çƒã€‚ç”±äºè¿™äº›é«˜å°”å¤«çƒä¸­æœ‰ä¸€åŠæ˜¯è“è‰²çš„,å› æ­¤æ€»å…±æœ‰4ä¸ªè“è‰²çš„é«˜å°”å¤«çƒã€‚'
```

```python
score_glm3 += 3
score_glm3
```

```plaintext
1
```

```python
response_glm3_q4 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": question4}
                      ]
                    )
```

```python
response_glm3_q4.choices[0].message['content']
```

```plaintext
'\n è‰¾ç±³èŠ±äº†1åˆ†é’Ÿæ‰æ»‘ä¸‹æ¥ï¼Œè¯´æ˜å¥¹æ¯æ»‘ä¸€æ¬¡æ»‘æ¢¯éœ€è¦2åˆ†é’Ÿã€‚æ°´æ»‘æ¢¯å°†åœ¨15åˆ†é’Ÿåå…³é—­ï¼Œæ‰€ä»¥è‰¾ç±³æœ‰15-1=14åˆ†é’Ÿçš„æ—¶é—´æ¥æ»‘æ»‘æ¢¯ã€‚\n\nç”±äºè‰¾ç±³æ¯æ»‘ä¸€æ¬¡æ»‘æ¢¯éœ€è¦2åˆ†é’Ÿï¼Œæ‰€ä»¥åœ¨14åˆ†é’Ÿå†…å¥¹å¯ä»¥æ»‘7æ¬¡ï¼ˆ14åˆ†é’Ÿé™¤ä»¥2åˆ†é’Ÿç­‰äº7ï¼‰ã€‚æ‰€ä»¥åœ¨å…³é—­ä¹‹å‰ï¼Œè‰¾ç±³èƒ½æ»‘7æ¬¡ã€‚'
```

```python
score_glm3 -= 1
score_glm3
```

```plaintext
0
```

##### 2.3.2 Zero-shot-COTä¸‹å„æ¨¡å‹è¡¨ç°

* GPT-3æ¨¡å‹è¡¨ç°

```python
COT_prompt = 'è¯·ä¸€æ­¥æ­¥æ€è€ƒå¹¶å¾—åˆ°ç­”æ¡ˆã€‚'
```

```python
response_gpt3_q1 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt=question1+COT_prompt,
                    max_tokens=1000,
                    )
```

```python
# ç­”æ¡ˆä¸º11ä¸ªçƒ
response_gpt3_q1["choices"][0]["text"].strip()
```

```plaintext
'åˆ†æï¼šç½—æ°ä¸€å¼€å§‹æœ‰5ä¸ªç½‘çƒï¼Œä»–å†ä¹°äº†ä¸¤ç›’ç½‘çƒï¼Œæ¯ç›’æœ‰3ä¸ªç½‘çƒï¼Œ\n\nç­”æ¡ˆï¼šç½—æ°ç°åœ¨æ€»å…±æœ‰11ä¸ªç½‘çƒã€‚'
```

```python
score_gpt3_COT = 1
```

```python
response_gpt3_q2 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt=question2+COT_prompt,
                    max_tokens=1000,
                    )
```

```python
# ç­”æ¡ˆä¸º9ä¸ªè‹¹æœ
response_gpt3_q2["choices"][0]["text"].strip()
```

```plaintext
'ç­”æ¡ˆï¼š\n\næ­¥éª¤1ï¼šé£Ÿå ‚æ€»å…±æœ‰23ä¸ªè‹¹æœã€‚\n\næ­¥éª¤2ï¼šé£Ÿå ‚ç”¨æ‰20ä¸ªè‹¹æœï¼Œé‚£ä¹ˆç°åœ¨æœ‰3ä¸ªè‹¹æœã€‚\n\næ­¥éª¤3ï¼šåˆä¹°äº†6ä¸ªè‹¹æœï¼Œç°åœ¨é£Ÿå ‚æ€»å…±æœ‰9ä¸ªè‹¹æœã€‚'
```

```python
score_gpt3_COT += 2
score_gpt3_COT
```

```plaintext
3
```

```python
response_gpt3_q3 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt=question3+COT_prompt,
                    max_tokens=1000,
                    )
```

```python
# ç­”æ¡ˆä¸º4ä¸ªè“è‰²é«˜å°”å¤«çƒ
response_gpt3_q3["choices"][0]["text"].strip()
```

```plaintext
'æ­¥éª¤1ï¼šé¦–å…ˆï¼Œæ€»å…±æœ‰16ä¸ªçƒï¼Œå…¶ä¸­ä¸€åŠæ˜¯é«˜å°”å¤«çƒï¼Œæ‰€ä»¥å…±æœ‰8ä¸ªé«˜å°”å¤«çƒã€‚\n\næ­¥éª¤2ï¼šæ¥ä¸‹æ¥ï¼Œä¸€åŠçš„é«˜å°”å¤«çƒæ˜¯è“è‰²çš„ï¼Œæ‰€ä»¥å…±æœ‰4ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚'
```

```python
score_gpt3_COT += 3
score_gpt3_COT
```

```plaintext
6
```

```python
response_gpt3_q4 = openai.Completion.create(
                    model="text-davinci-003",
                    prompt=question4+COT_prompt,
                    max_tokens=1000,
                    )
```

```python
# ç­”æ¡ˆä¸ºèƒ½æ»‘ä¸‰æ¬¡
response_gpt3_q4["choices"][0]["text"].strip()
```

```plaintext
'æ­¥éª¤1ï¼šè®¡ç®—è‰¾ç±³å‰©ä½™çš„æ—¶é—´ï¼š15åˆ†é’Ÿå‡å»1åˆ†é’Ÿï¼Œå‰©ä½™æ—¶é—´ä¸º14åˆ†é’Ÿã€‚\n\næ­¥éª¤2ï¼šè®¡ç®—è‰¾ç±³å¯ä»¥æ»‘å¤šå°‘æ¬¡ï¼šä¸€æ¬¡æ»‘è¡Œéœ€è¦4åˆ†é’Ÿï¼Œ14åˆ†é’Ÿå¯ä»¥æ»‘è¡Œ3æ¬¡ã€‚\n\nç­”æ¡ˆï¼šåœ¨å…³é—­ä¹‹å‰å¥¹èƒ½æ»‘3æ¬¡ã€‚'
```

```python
score_gpt3_COT -= 1
score_gpt3_COT
```

```plaintext
5
```

* GPT-3.5æ¨¡å‹è¡¨ç°

```python
response_gpt35_q1 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": question1+COT_prompt}
                      ]
                    )
```

```python
response_gpt35_q1.choices[0].message['content']
```

```plaintext
'é¦–å…ˆï¼Œç½—æ°åŸå…ˆæœ‰5ä¸ªç½‘çƒã€‚\nç½—æ°ä¹°äº†ä¸¤ç›’ç½‘çƒï¼Œæ¯ç›’æœ‰3ä¸ªç½‘çƒï¼Œæ‰€ä»¥ä»–ä¹°äº†2 x 3 = 6ä¸ªç½‘çƒã€‚\næ‰€ä»¥ç½—æ°ç°åœ¨æ€»å…±æœ‰5 + 6 = 11ä¸ªç½‘çƒã€‚'
```

```python
score_gpt35_COT = 1
score_gpt35_COT
```

```plaintext
1
```

```python
response_gpt35_q2 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": question2+COT_prompt}
                      ]
                    )
```

```python
response_gpt35_q2.choices[0].message['content']
```

```plaintext
'ç°åœ¨é£Ÿå ‚å‰©ä¸‹çš„è‹¹æœæ•°é‡ä¸º23 - 20 = 3ä¸ªã€‚\nç„¶åå†åŠ ä¸Šä¹°å›çš„6ä¸ªè‹¹æœï¼Œé£Ÿå ‚æ€»å…±æœ‰3 + 6 = 9ä¸ªè‹¹æœã€‚æ‰€ä»¥ç°åœ¨é£Ÿå ‚æ€»å…±æœ‰9ä¸ªè‹¹æœã€‚'
```

```python
score_gpt35_COT += 2
score_gpt35_COT
```

```plaintext
3
```

```python
response_gpt35_q3 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": question3+COT_prompt}
                      ]
                    )
```

```python
response_gpt35_q3.choices[0].message['content']
```

```plaintext
'æ ¹æ®é¢˜ç›®å¯çŸ¥ï¼Œæ‚è€è€…å¯ä»¥æ‚è€16ä¸ªçƒï¼Œå¹¶ä¸”å…¶ä¸­ä¸€åŠçš„çƒæ˜¯é«˜å°”å¤«çƒã€‚æ‰€ä»¥é«˜å°”å¤«çƒçš„æ•°é‡ä¸º16é™¤ä»¥2ï¼Œå³8ä¸ªã€‚\n\næ¥ä¸‹æ¥ï¼Œé¢˜ç›®ç»™å‡ºä¸€åŠçš„é«˜å°”å¤«çƒæ˜¯è“è‰²çš„ã€‚æ‰€ä»¥è“è‰²é«˜å°”å¤«çƒçš„æ•°é‡ä¹Ÿåº”ä¸º8é™¤ä»¥2ï¼Œå³4ä¸ªã€‚\n\nå› æ­¤ï¼Œæ€»å…±æœ‰4ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚'
```

```python
score_gpt35_COT += 3
score_gpt35_COT
```

```plaintext
6
```

```python
response_gpt35_q4 = openai.ChatCompletion.create(
                      model="gpt-3.5-turbo-0613",
                      messages=[
                        {"role": "user", "content": question4+COT_prompt}
                      ]
                    )
```

```python
response_gpt35_q4.choices[0].message['content']
```

```plaintext
'è‰¾ç±³åœ¨4åˆ†é’Ÿå†…å¯ä»¥çˆ¬ä¸Šæ»‘æ¢¯ä¸€æ¬¡ï¼Œå¹¶åœ¨1åˆ†é’Ÿå†…æ»‘ä¸‹æ¥ã€‚åœ¨15åˆ†é’Ÿçš„æ—¶é—´å†…ï¼Œå¥¹å¯ä»¥é‡å¤è¿™ä¸ªè¿‡ç¨‹15/(4+1)=3æ¬¡ã€‚æ‰€ä»¥ï¼Œåœ¨å…³é—­ä¹‹å‰å¥¹èƒ½æ»‘3æ¬¡ã€‚'
```

```python
score_gpt35_COT += 4
score_gpt35_COT
```

```plaintext
10
```

* GPT-4æ¨¡å‹è¡¨ç°

```python
response_gpt4_q1 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": question1+COT_prompt}
                      ]
                    )
```

```python
response_gpt4_q1.choices[0].message['content']
```

```plaintext
'é¦–å…ˆï¼Œè®¡ç®—ç½—æ°ä¹°äº†ä¸¤ç›’ç½‘çƒä¸€å…±æœ‰å¤šå°‘ä¸ªç½‘çƒï¼Œæ¯ç›’æœ‰3ä¸ªï¼Œæ‰€ä»¥ä¸¤ç›’æ˜¯3*2=6ä¸ªç½‘çƒã€‚\nç„¶åï¼ŒåŠ ä¸Šä»–åŸæ¥å·²ç»æœ‰çš„5ä¸ªç½‘çƒï¼Œæ‰€ä»¥ä»–ç°åœ¨ä¸€å…±æœ‰5+6=11ä¸ªç½‘çƒã€‚'
```

```python
response_gpt4_q2 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": question2+COT_prompt}
                      ]
                    )
```

```python
response_gpt4_q2.choices[0].message['content']
```

```plaintext
'é¦–å…ˆï¼Œé£Ÿå ‚æœ‰23ä¸ªè‹¹æœï¼Œä»–ä»¬ç”¨æ‰äº†20ä¸ªè‹¹æœï¼Œé‚£ä¹ˆå°±å‰©ä¸‹23-20=3ä¸ªè‹¹æœã€‚\nç„¶åï¼Œé£Ÿå ‚åˆä¹°äº†6ä¸ªè‹¹æœï¼Œé‚£ä¹ˆé£Ÿå ‚ç°åœ¨æ€»å…±æœ‰3+6=9ä¸ªè‹¹æœã€‚'
```

```python
response_gpt4_q3 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": question3+COT_prompt}
                      ]
                    )
```

```python
response_gpt4_q3.choices[0].message['content']
```

```plaintext
'é¦–å…ˆï¼Œæ‰¾å‡ºé«˜å°”å¤«çƒçš„æ€»æ•°ã€‚å¦‚æœæ‚è€è€…å¯ä»¥æ‚è€16ä¸ªçƒï¼Œå¹¶ä¸”å…¶ä¸­ä¸€åŠçš„çƒæ˜¯é«˜å°”å¤«çƒï¼Œé‚£ä¹ˆè¿™æ„å‘³ç€æœ‰16 / 2 = 8ä¸ªé«˜å°”å¤«çƒã€‚\n\næ¥ç€ï¼Œæ‰¾å‡ºè“è‰²é«˜å°”å¤«çƒçš„æ€»æ•°ã€‚å¦‚æœä¸€åŠçš„é«˜å°”å¤«çƒæ˜¯è“è‰²çš„ï¼Œé‚£ä¹ˆè¿™æ„å‘³ç€æœ‰8 / 2 = 4ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚\n\næ‰€ä»¥ï¼Œæ€»å…±æœ‰4ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚'
```

```python
response_gpt4_q4 = openai.ChatCompletion.create(
                      model="gpt-4-0613",
                      messages=[
                        {"role": "user", "content": question4+COT_prompt}
                      ]
                    )
```

```python
response_gpt4_q4.choices[0].message['content']
```

```plaintext
'è‰¾ç±³æ¯æ¬¡çˆ¬ä¸ŠåŠ æ»‘ä¸‹æ¥éœ€è¦çš„æ—¶é—´ä¸ºï¼š4åˆ†é’Ÿ + 1åˆ†é’Ÿ = 5åˆ†é’Ÿã€‚\n\næ‰€ä»¥å¥¹åœ¨15åˆ†é’Ÿå†…æœ€å¤šå¯ä»¥æ»‘ï¼š15åˆ†é’Ÿ Ã· 5åˆ†é’Ÿ = 3æ¬¡ã€‚'
```

```python
score_gpt4_COT = 10
score_gpt4_COT
```

```plaintext
10
```

* ChatGLM3-6Bæ¨¡å‹è¡¨ç°

```python
response_glm3_q1 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": question1+COT_prompt}
                      ]
                    )
```

```python
response_glm3_q1.choices[0].message['content']
```

```plaintext
'\n é¦–å…ˆï¼Œç½—æ°åŸæœ¬æœ‰5ä¸ªç½‘çƒã€‚\nç„¶åï¼Œä»–ä¹°äº†2ç›’ç½‘çƒï¼Œæ¯ç›’æœ‰3ä¸ªï¼Œæ‰€ä»¥æ€»å…±ä¹°äº†2*3=6ä¸ªç½‘çƒã€‚\næœ€åï¼Œå°†ä¹°çš„6ä¸ªç½‘çƒåŠ ä¸ŠåŸæœ¬çš„5ä¸ªç½‘çƒï¼Œç½—æ°ç°åœ¨æ€»å…±æœ‰11ä¸ªç½‘çƒã€‚'
```

```python
score_glm3_COT = 1
score_glm3_COT
```

```plaintext
1
```

```python
response_glm3_q2 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": question2+COT_prompt}
                      ]
                    )
```

```python
response_glm3_q2.choices[0].message['content']
```

```plaintext
'\n é¦–å…ˆï¼Œé£Ÿå ‚å¼€å§‹æœ‰23ä¸ªè‹¹æœã€‚ \n\næ¥ç€ï¼Œä»–ä»¬ç”¨æ‰äº†20ä¸ªè‹¹æœï¼Œæ‰€ä»¥ç°åœ¨é£Ÿå ‚é‡Œå‰©ä¸‹23-20=3ä¸ªè‹¹æœã€‚ \n\nç„¶åï¼Œé£Ÿå ‚åˆä¹°äº†6ä¸ªè‹¹æœï¼Œæ‰€ä»¥ç°åœ¨é£Ÿå ‚æ€»å…±æœ‰3+6=9ä¸ªè‹¹æœã€‚ \n\nå› æ­¤ï¼Œç°åœ¨é£Ÿå ‚æ€»å…±æœ‰9ä¸ªè‹¹æœã€‚'
```

```python
score_glm3_COT += 2
score_glm3_COT
```

```plaintext
3
```

```python
response_glm3_q3 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": question3+COT_prompt}
                      ]
                    )
```

```python
response_glm3_q3.choices[0].message['content']
```

```plaintext
'\n æˆ‘ä»¬å¯ä»¥å…ˆè®¡ç®—å‡ºä¸€åŠçš„é«˜å°”å¤«çƒæ˜¯è“è‰²çš„ï¼Œé‚£ä¹ˆæœ‰ 16/2 = 8 ä¸ªé«˜å°”å¤«çƒæ˜¯è“è‰²çš„ã€‚ç„¶åæˆ‘ä»¬å†è®¡ç®—å‡ºè¿™äº› blue é«˜å°”å¤«çƒä¸­æœ‰å¤šå°‘ä¸ªæ˜¯è“è‰²çš„ï¼Œå› ä¸ºé¢˜ç›®ä¸­è¯´äº†ä¸€åŠçš„é«˜å°”å¤«çƒæ˜¯è“è‰²çš„ï¼Œæ‰€ä»¥æœ‰ 8/2 = 4 ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚å› æ­¤ï¼Œæ€»å…±æœ‰ 4 ä¸ªè“è‰²é«˜å°”å¤«çƒã€‚'
```

```python
score_glm3_COT += 3
score_glm3_COT
```

```plaintext
6
```

```python
response_glm3_q4 = openai.ChatCompletion.create(
                      model="chatglm3-6b",
                      messages=[
                        {"role": "user", "content": question4+COT_prompt}
                      ]
                    )
```

```python
response_glm3_q4.choices[0].message['content']
```

```plaintext
'\n è‰¾ç±³èŠ±äº†1åˆ†é’Ÿæ‰æ»‘ä¸‹æ¥,å› æ­¤å¥¹è¿˜æœ‰3åˆ†é’Ÿæ—¶é—´æ¥çˆ¬åˆ°æ»‘æ¢¯é¡¶éƒ¨ã€‚\n\nå½“æ°´æ»‘æ¢¯å…³é—­æ—¶,è‰¾ç±³å¿…é¡»æ­£å¥½çˆ¬åˆ°é¡¶éƒ¨æ‰èƒ½åœæ­¢ã€‚ç”±äºå¥¹ä¹‹å‰èŠ±äº†3åˆ†é’Ÿæ‰çˆ¬åˆ°é¡¶éƒ¨,å› æ­¤åœ¨æœ€å3åˆ†é’Ÿå†…,å¥¹åªèƒ½æ»‘ä¸€æ¬¡ã€‚\n\nå› æ­¤,è‰¾ç±³åœ¨æ°´æ»‘æ¢¯å…³é—­ä¹‹å‰åªèƒ½æ»‘ä¸‹ä¸€æ¬¡ã€‚'
```

```python
score_glm3_COT -= 1
score_glm3_COT
```

```plaintext
5
```

### å„æ¨¡å‹ç®€å•è¯„æµ‹å¾—åˆ†

| æ¨¡å‹          | Zero-shot | Zero-shot-COT |
| ----------- | --------- | ------------- |
| GPT-3       | 0         | 5             |
| GPT-3.5     | 0         | 10            |
| GPT-4       | 10        | 10            |
| ChatGLM3-6B | 0         | 5             |



ğŸ“**æ›´å¤šå¤§æ¨¡å‹æŠ€æœ¯å†…å®¹å­¦ä¹ **

**æ‰«ç æ·»åŠ åŠ©ç†è‹±è‹±ï¼Œå›å¤â€œå¤§æ¨¡å‹â€ï¼Œäº†è§£æ›´å¤šå¤§æ¨¡å‹æŠ€æœ¯è¯¦æƒ…å“¦ğŸ‘‡**

![](images/f339b04b7b20233dd1509c7fb36d5c0.png)

æ­¤å¤–ï¼Œ**æ‰«ç å›å¤â€œå…¥ç¾¤â€**ï¼Œå³å¯åŠ å…¥**å¤§æ¨¡å‹æŠ€æœ¯ç¤¾ç¾¤ï¼šæµ·é‡ç¡¬æ ¸ç‹¬å®¶æŠ€æœ¯`å¹²è´§å†…å®¹`+æ— é—¨æ§›`æŠ€æœ¯äº¤æµ`ï¼**
