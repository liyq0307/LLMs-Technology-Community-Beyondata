## <center> ã€Š2025å¤§æ¨¡å‹Agentæ™ºèƒ½ä½“å¼€å‘å®æˆ˜ã€‹ä½“éªŒè¯¾
## <center> Ch 3.æ‰“é€ ä¸“å±èŠå¤©æœºå™¨äººï¼šOpen-WebUIæ¥å…¥DeepSeek v3æµç¨‹è¯¦è§£

#### Open WebUIé¡¹ç›®ä»‹ç»

<div align=center><img src="https://muyu20241105.oss-cn-beijing.aliyuncs.com/images/202412171138318.png" width=80%></div>

> Open-webui Github : https://github.com/open-webui/open-webui

ğŸš€ **è½»æ¾å®‰è£…**ï¼šé€šè¿‡ Docker æˆ– Kubernetesï¼ˆkubectlã€kustomize æˆ– helmï¼‰å®ç°æ— ç¼å®‰è£…ï¼Œæ”¯æŒ :ollama å’Œ :cuda æ ‡ç­¾é•œåƒï¼Œå¸¦æ¥æ— å¿§ä½“éªŒã€‚

ğŸ¤ **Ollama/OpenAI API é›†æˆ**ï¼šè½»æ¾é›†æˆä¸ OpenAI å…¼å®¹çš„ APIï¼Œæ”¯æŒä¸ Ollama æ¨¡å‹çš„å¤šæ ·åŒ–å¯¹è¯ã€‚è‡ªå®šä¹‰ OpenAI API URLï¼Œå¯ä¸ LMStudioã€GroqCloudã€Mistralã€OpenRouter ç­‰å¹³å°å¯¹æ¥ã€‚

ğŸ›¡ï¸ **ç»†ç²’åº¦æƒé™å’Œç”¨æˆ·ç»„**ï¼šç®¡ç†å‘˜å¯ä»¥åˆ›å»ºè¯¦ç»†çš„ç”¨æˆ·è§’è‰²å’Œæƒé™ï¼Œç¡®ä¿ç”¨æˆ·ç¯å¢ƒçš„å®‰å…¨æ€§ã€‚è¿™ç§ç»†ç²’åº¦ç®¡ç†ä¸ä»…å¢å¼ºäº†å®‰å…¨æ€§ï¼Œè¿˜å…è®¸å®šåˆ¶åŒ–çš„ç”¨æˆ·ä½“éªŒï¼ŒåŸ¹å…»ç”¨æˆ·çš„è´£ä»»æ„Ÿä¸å½’å±æ„Ÿã€‚

ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šåœ¨æ¡Œé¢PCã€ç¬”è®°æœ¬å’Œç§»åŠ¨è®¾å¤‡ä¸Šéƒ½èƒ½äº«å—æ— ç¼çš„ä½¿ç”¨ä½“éªŒã€‚

âœ’ï¸ğŸ”¢ **å®Œæ•´çš„ Markdown å’Œ LaTeX æ”¯æŒ**ï¼šé€šè¿‡å…¨é¢çš„ Markdown å’Œ LaTeX æ”¯æŒï¼Œæå‡ LLMï¼ˆå¤§è¯­è¨€æ¨¡å‹ï¼‰ä½“éªŒï¼Œè®©äº¤äº’æ›´ä¸ºä¸°å¯Œã€‚

ğŸ¤ğŸ“¹ **å…æè¯­éŸ³/è§†é¢‘é€šè¯**ï¼šäº«å—æ— ç¼çš„è¯­éŸ³å’Œè§†é¢‘é€šè¯åŠŸèƒ½ï¼Œæä¾›æ›´ä¸ºåŠ¨æ€å’Œäº’åŠ¨çš„èŠå¤©ç¯å¢ƒã€‚

ğŸ› ï¸ **æ¨¡å‹æ„å»ºå™¨**ï¼šé€šè¿‡ Web UI è½»æ¾åˆ›å»º Ollama æ¨¡å‹ã€‚åˆ›å»ºå¹¶æ·»åŠ è‡ªå®šä¹‰è§’è‰²/ä»£ç†ï¼Œå®šåˆ¶èŠå¤©å…ƒç´ ï¼Œå¹¶é€šè¿‡ Open WebUI ç¤¾åŒºé›†æˆè½»æ¾å¯¼å…¥æ¨¡å‹ã€‚

ğŸ **åŸç”Ÿ Python å‡½æ•°è°ƒç”¨å·¥å…·**ï¼šé€šè¿‡å†…ç½®ä»£ç ç¼–è¾‘å™¨æ”¯æŒï¼Œå¢å¼º LLM åŠŸèƒ½ã€‚é€šè¿‡â€œBring Your Own Functionâ€ (BYOF) è½»æ¾é›†æˆè‡ªå·±çš„ Python å‡½æ•°ï¼Œä¸ LLM æ— ç¼å¯¹æ¥ã€‚

ğŸ“š **æœ¬åœ° RAG é›†æˆ**ï¼šä½“éªŒæœªæ¥çš„èŠå¤©äº’åŠ¨ï¼Œå¼€åˆ›æ€§çš„æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æ”¯æŒï¼Œè®©æ–‡æ¡£äº’åŠ¨æ— ç¼èå…¥èŠå¤©ä½“éªŒã€‚æ‚¨å¯ä»¥ç›´æ¥å°†æ–‡æ¡£åŠ è½½åˆ°èŠå¤©ä¸­ï¼Œæˆ–é€šè¿‡ # å‘½ä»¤å°†æ–‡ä»¶æ·»åŠ åˆ°æ–‡æ¡£åº“ï¼Œæ–¹ä¾¿åœ¨æŸ¥è¯¢æ—¶è®¿é—®ã€‚

ğŸ” **Web æœç´¢é›†æˆ RAG**ï¼šé€šè¿‡ SearXNGã€Google PSEã€Brave Searchã€serpstackã€serperã€Serplyã€DuckDuckGoã€TavilySearchã€SearchApi å’Œ Bing ç­‰æœç´¢å¼•æ“æä¾›å•†æ‰§è¡Œ Web æœç´¢ï¼Œå¹¶å°†ç»“æœç›´æ¥æ³¨å…¥åˆ°æ‚¨çš„èŠå¤©ä½“éªŒä¸­ã€‚

ğŸŒ **Web æµè§ˆåŠŸèƒ½**ï¼šé€šè¿‡ # å‘½ä»¤åŠ  URLï¼Œæ— ç¼é›†æˆç½‘ç«™å†…å®¹åˆ°èŠå¤©ä½“éªŒä¸­ï¼Œå¢å¼ºäº’åŠ¨çš„ä¸°å¯Œæ€§å’Œæ·±åº¦ã€‚

ğŸ¨ **å›¾åƒç”Ÿæˆé›†æˆ**ï¼šé€šè¿‡ AUTOMATIC1111 API æˆ– ComfyUIï¼ˆæœ¬åœ°ï¼‰ä»¥åŠ OpenAI çš„ DALL-Eï¼ˆå¤–éƒ¨ï¼‰ç­‰é€‰é¡¹ï¼Œè½»æ¾é›†æˆå›¾åƒç”ŸæˆåŠŸèƒ½ï¼Œä¸ºèŠå¤©ä½“éªŒå¢æ·»åŠ¨æ€è§†è§‰å†…å®¹ã€‚

âš™ï¸ **å¤šæ¨¡å‹å¯¹è¯**ï¼šè½»æ¾ä¸å¤šç§æ¨¡å‹åŒæ—¶äº’åŠ¨ï¼Œåˆ©ç”¨å„è‡ªçš„ä¼˜åŠ¿æä¾›æœ€ä¼˜å›åº”ã€‚é€šè¿‡å¹¶è¡Œåˆ©ç”¨å¤šç§æ¨¡å‹ï¼Œæå‡èŠå¤©æ•ˆæœã€‚

ğŸ” **åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ï¼ˆRBACï¼‰**ï¼šç¡®ä¿å®‰å…¨çš„è®¿é—®æ§åˆ¶ï¼Œåªæœ‰æˆæƒç”¨æˆ·æ‰èƒ½è®¿é—® Ollamaï¼Œæ¨¡å‹åˆ›å»º/æ‹‰å–æƒé™ä»…é™ç®¡ç†å‘˜ã€‚

ğŸŒğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šä½“éªŒæ‚¨å–œæ¬¢çš„è¯­è¨€ç‰ˆæœ¬çš„ Open WebUIï¼Œæˆ‘ä»¬æä¾›å›½é™…åŒ–ï¼ˆi18nï¼‰æ”¯æŒï¼Œç§¯ææ‹“å±•æ›´å¤šè¯­è¨€ï¼æ¬¢è¿åŠ å…¥æˆ‘ä»¬æˆä¸ºè´¡çŒ®è€…ï¼

ğŸ§© **ç®¡é“ä¸ Open WebUI æ’ä»¶æ”¯æŒ**ï¼šé€šè¿‡ç®¡é“æ’ä»¶æ¡†æ¶ï¼Œæ— ç¼é›†æˆè‡ªå®šä¹‰é€»è¾‘å’Œ Python åº“åˆ° Open WebUIã€‚å¯åŠ¨æ‚¨çš„ç®¡é“å®ä¾‹ï¼Œè®¾ç½® OpenAI URL ä¸ºç®¡é“ URLï¼Œæ¢ç´¢æ— é™å¯èƒ½æ€§ã€‚åŠŸèƒ½ç¤ºä¾‹åŒ…æ‹¬å‡½æ•°è°ƒç”¨ã€ç”¨æˆ·é€Ÿç‡é™åˆ¶ã€ä½¿ç”¨ç›‘æ§ï¼ˆå¦‚ Langfuseï¼‰ã€å®æ—¶ç¿»è¯‘ï¼ˆå¦‚ LibreTranslate å¤šè¯­è¨€æ”¯æŒï¼‰ã€æœ‰å®³ä¿¡æ¯è¿‡æ»¤ç­‰ã€‚

ğŸŒŸ **æŒç»­æ›´æ–°**ï¼šæˆ‘ä»¬æ‰¿è¯ºå®šæœŸæ›´æ–° Open WebUIï¼Œæä¾›ä¿®å¤å’Œæ–°å¢åŠŸèƒ½ï¼Œä¸æ–­ä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚

&emsp;&emsp;è¿™é‡Œæˆ‘ä»¬æ˜¯å¯ä»¥å…³æ³¨åˆ°ï¼Œ**`Open WebUI`é¡¹ç›®æ”¯æŒæ¥å…¥åœ¨çº¿å¤§æ¨¡å‹å’Œå¼€æºå¤§æ¨¡å‹ï¼Œæ¯”å¦‚ OpenAIã€GLM4ã€Qwen2.5ç­‰ç­‰ï¼Œå‡å¯ä»¥é€šè¿‡`Open WebUI`çš„ `Functions` åŠŸèƒ½æ¥çµæ´»çš„æ¥å…¥ï¼Œæ”¯æŒä¸€é”®å¯¼å…¥é…ç½®**ï¼Œæ¯”å¦‚ï¼š

> Open WebUI Functionsï¼šhttps://openwebui.com/functions

<div align=center><img src="https://muyu20241105.oss-cn-beijing.aliyuncs.com/images/202412201331209.png" width=100%></div>

&emsp;&emsp;åœ¨ Open WebUI é¡¹ç›®ä¸­ï¼ŒFunctionsï¼ˆåŠŸèƒ½ï¼‰é€šå¸¸æ˜¯æŒ‡è¯¥é¡¹ç›®æä¾›çš„å¯ä»¥æ‰§è¡Œç‰¹å®šä»»åŠ¡æˆ–æ“ä½œçš„æ¨¡å—æˆ–æ–¹æ³•ã€‚è¿™äº›åŠŸèƒ½å¯ä»¥å¸®åŠ©ç”¨æˆ·ä¸å¤§æ¨¡å‹è¿›è¡Œäº¤äº’ã€é…ç½®æ¨¡å‹å‚æ•°ã€è·å–è¾“å‡ºç»“æœç­‰ã€‚å…·ä½“æ¥è¯´ï¼Œè¿™äº› Functions åŒ…æ‹¬æ–‡æœ¬ç”Ÿæˆã€æ¨¡å‹å‚æ•°è°ƒèŠ‚ã€ä¼šè¯ç®¡ç†åŠŸèƒ½ã€API æ¥å£ã€æ¨¡å‹é€‰æ‹©å’Œç®¡ç†ç­‰å®ç°ç»†èŠ‚ã€‚

- DeepSeek v3æ¥å…¥Open-WebUIæµç¨‹

&emsp;&emsp;é¦–å…ˆéœ€è¦åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š

```bash
conda create -n open-webui python=3.11
conda init
source ~/.bashrc
conda activatopen-webui
```

ç„¶åå®‰è£…Open-WebUIé¡¹ç›®ï¼š

```bash
pip install open-webui -i https://pypi.tuna.tsinghua.edu.cn/simple
```

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107171208021.png" alt="image-20250107171208021" style="zoom:50%;" />

ç„¶åå¼€å¯æœåŠ¡ï¼š

```bash
open-webui serve
```

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107172121525.png" alt="image-20250107172121525" style="zoom:33%;" />

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107172204548.png" alt="image-20250107172204548" style="zoom:33%;" />

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107172758335.png" alt="image-20250107172758335" style="zoom:33%;" />

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107174753064.png" alt="image-20250107174753064" style="zoom:33%;" />

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107174932819.png" alt="image-20250107174932819" style="zoom:33%;" />

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107175323531.png" alt="image-20250107175323531" style="zoom:33%;" />

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107175351279.png" alt="image-20250107175351279" style="zoom:33%;" />

<center><img src="https://ml2022.oss-cn-hangzhou.aliyuncs.com/img/image-20250107175439236.png" alt="image-20250107175439236" style="zoom:33%;" />

åç»­æˆ‘ä»¬å°†ç›´æ¥ä½¿ç”¨Open-WebUIä½œä¸ºå‰ç«¯å·¥å…·ï¼Œè°ƒç”¨DeepSeek v3æ¨¡å‹ã€‚
